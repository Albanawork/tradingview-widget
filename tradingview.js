(self.webpackChunktradingview = self.webpackChunktradingview || []).push([[91196, 34215], {
    276833: e => {
        e.exports = {
            badge: "badge-PlSmolIm",
            hasChildren: "hasChildren-PlSmolIm",
            content: "content-PlSmolIm",
            leftSlot: "leftSlot-PlSmolIm",
            xsmall: "xsmall-PlSmolIm",
            small: "small-PlSmolIm",
            medium: "medium-PlSmolIm",
            large: "large-PlSmolIm",
            xlarge: "xlarge-PlSmolIm",
            xxlarge: "xxlarge-PlSmolIm"
        }
    }
    ,
    193139: e => {
        e.exports = {
            radioButtonView: "radioButtonView-zzLJI6BH",
            checked: "checked-zzLJI6BH",
            disabled: "disabled-zzLJI6BH"
        }
    }
    ,
    533560: e => {
        e.exports = {
            radio: "radio-ALqkCUvs",
            reverse: "reverse-ALqkCUvs",
            label: "label-ALqkCUvs",
            wrapper: "wrapper-ALqkCUvs",
            input: "input-ALqkCUvs",
            box: "box-ALqkCUvs",
            disabled: "disabled-ALqkCUvs"
        }
    }
    ,
    489928: e => {
        e.exports = {}
    }
    ,
    972525: e => {
        e.exports = {}
    }
    ,
    492575: e => {
        e.exports = {}
    }
    ,
    725479: e => {
        e.exports = {
            container: "container-u7Ufi_N7",
            leftSlot: "leftSlot-u7Ufi_N7",
            rightSlot: "rightSlot-u7Ufi_N7",
            rightSlotSeparator: "rightSlotSeparator-u7Ufi_N7"
        }
    }
    ,
    385923: e => {
        e.exports = {
            "tablet-small-breakpoint": "(max-width: 440px)",
            container: "container-dkFda96L",
            flag: "flag-dkFda96L",
            divider: "divider-dkFda96L"
        }
    }
    ,
    46857: e => {
        e.exports = {
            item: "item-mcATxxXd"
        }
    }
    ,
    776126: e => {
        e.exports = {
            item: "item-E2qCgOMz",
            withIcon: "withIcon-E2qCgOMz"
        }
    }
    ,
    724669: e => {
        e.exports = {
            container: "container-mQBvegEO",
            headerMenuContent: "headerMenuContent-mQBvegEO",
            watchlistMenu: "watchlistMenu-mQBvegEO",
            title: "title-mQBvegEO",
            widgetBtnText: "widgetBtnText-mQBvegEO",
            lockIcon: "lockIcon-mQBvegEO",
            alertIcon: "alertIcon-mQBvegEO",
            widgetBtn: "widgetBtn-mQBvegEO",
            widgetBtnIcon: "widgetBtnIcon-mQBvegEO",
            caret: "caret-mQBvegEO",
            titleRow: "titleRow-mQBvegEO",
            flag: "flag-mQBvegEO",
            headerButton: "headerButton-mQBvegEO",
            disabled: "disabled-mQBvegEO",
            settingsMenu: "settingsMenu-mQBvegEO",
            mobileBtn: "mobileBtn-mQBvegEO",
            buttonWrap: "buttonWrap-mQBvegEO",
            menuWrap: "menuWrap-mQBvegEO",
            columnsTitle: "columnsTitle-mQBvegEO",
            small: "small-mQBvegEO",
            loaderWrapper: "loaderWrapper-mQBvegEO",
            loader: "loader-mQBvegEO",
            switcherMobileLabel: "switcherMobileLabel-mQBvegEO",
            widgetbarWidgetHeaderLeftSlot: "widgetbarWidgetHeaderLeftSlot-mQBvegEO",
            widgetbarWidgetHeaderRightSlot: "widgetbarWidgetHeaderRightSlot-mQBvegEO"
        }
    }
    ,
    949743: e => {
        e.exports = {
            checkbox: "checkbox-KD1AQ2II",
            hovered: "hovered-KD1AQ2II",
            mobile: "mobile-KD1AQ2II"
        }
    }
    ,
    178517: e => {
        e.exports = {
            flag: "flag-syQ7oJKe",
            label: "label-syQ7oJKe"
        }
    }
    ,
    355871: e => {
        e.exports = {
            radio: "radio-j3d6UIDj",
            hovered: "hovered-j3d6UIDj",
            mobile: "mobile-j3d6UIDj"
        }
    }
    ,
    629319: e => {
        e.exports = {
            toolbox: "toolbox-MeieydGw"
        }
    }
    ,
    518174: e => {
        e.exports = {
            toolbox: "toolbox-iUEJczsW"
        }
    }
    ,
    324295: e => {
        e.exports = {
            item: "item-Pho75f2H",
            active: "active-Pho75f2H",
            toolboxCount: "toolboxCount-Pho75f2H",
            count: "count-Pho75f2H",
            countVisible: "countVisible-Pho75f2H",
            title: "title-Pho75f2H",
            flag: "flag-Pho75f2H",
            small: "small-Pho75f2H",
            removeButton: "removeButton-Pho75f2H",
            toolboxItem: "toolboxItem-Pho75f2H",
            touch: "touch-Pho75f2H"
        }
    }
    ,
    842530: e => {
        e.exports = {
            watchlist: "watchlist-__KRxuOy",
            list: "list-__KRxuOy"
        }
    }
    ,
    509449: e => {
        e.exports = {
            badgeNew: "badgeNew-a_SagZQA"
        }
    }
    ,
    821534: (e, t, i) => {
        "use strict";
        i.d(t, {
            Badge: () => l
        });
        var s = i(50959)
          , n = i(497754)
          , o = i.n(n)
          , a = i(276833)
          , r = i.n(a);
        function l(e) {
            const {size: t, leftSlot: i, children: n, className: a, reference: l, href: c, onClick: d, ...u} = e
              , h = c ? "a" : d ? "button" : "span";
            return s.createElement(h, {
                ...u,
                ref: l,
                className: o()(a, r().badge, t && r()[t], i && r().hasLeftSlot, n && r().hasChildren),
                onClick: d,
                ...c ? {
                    target: "_blank",
                    href: c
                } : {}
            }, i && s.createElement("div", {
                className: r().leftSlot
            }, i), n && s.createElement("span", {
                className: r().content
            }, n))
        }
    }
    ,
    377454: (e, t, i) => {
        "use strict";
        i.d(t, {
            Badge: () => s.Badge,
            BadgeSize: () => n.BadgeSize
        });
        var s = i(821534)
          , n = i(105573)
    }
    ,
    105573: (e, t, i) => {
        "use strict";
        var s;
        i.d(t, {
            BadgeSize: () => s
        }),
        function(e) {
            e.XSmall = "xsmall",
            e.Small = "small",
            e.Medium = "medium",
            e.Large = "large",
            e.XLarge = "xlarge"
        }(s || (s = {}))
    }
    ,
    899287: (e, t, i) => {
        "use strict";
        i.d(t, {
            RadioButton: () => s.RadioButton
        });
        var s = i(620515)
    }
    ,
    809772: (e, t, i) => {
        "use strict";
        i.d(t, {
            RadioButtonView: () => r
        });
        var s = i(50959)
          , n = i(497754)
          , o = i.n(n)
          , a = i(193139);
        function r(e) {
            const {disabled: t, checked: i} = e;
            return s.createElement("span", {
                className: o()(a.radioButtonView, t && a.disabled, i && a.checked)
            })
        }
    }
    ,
    620515: (e, t, i) => {
        "use strict";
        i.d(t, {
            RadioButton: () => c
        });
        var s = i(50959)
          , n = i(497754)
          , o = i(451608)
          , a = i(809772)
          , r = i(533560)
          , l = i.n(r);
        const c = (0,
        o.makeSwitchGroupItem)((e => {
            const {disabled: t, checked: i, label: o, value: r="on", name: c, onChange: d, className: u, id: h, title: m, labelPositionReverse: _, reference: g, ariaDescribedby: p, "data-name": b} = e
              , v = n(u, l().radio, _ && l().reverse)
              , y = n(l().label, t && l().disabled);
            return s.createElement("label", {
                className: v
            }, s.createElement("span", {
                className: n(l().wrapper, t && l().disabled),
                title: m
            }, s.createElement("input", {
                type: "radio",
                id: h,
                className: l().input,
                name: c,
                checked: i,
                disabled: t,
                value: r,
                onChange: () => d?.(r),
                ref: g,
                "aria-describedby": p,
                "data-name": b
            }), s.createElement("span", {
                className: n(l().box, i && l().checked)
            }, s.createElement(a.RadioButtonView, {
                checked: i,
                disabled: t
            }))), o && s.createElement("span", {
                className: y
            }, o))
        }
        ))
    }
    ,
    229534: (e, t, i) => {
        "use strict";
        async function s(e) {
            return (await Promise.all([i.e(66814), i.e(77476), i.e(61135), i.e(91797), i.e(59355), i.e(42810), i.e(96645), i.e(10417), i.e(86021), i.e(44880), i.e(47793), i.e(25977), i.e(36001), i.e(46086), i.e(37757)]).then(i.bind(i, 173403))).createDialog(e)
        }
        function n(e) {
            s(e).then((e => e.open()))
        }
        i.d(t, {
            createErrorDialog: () => s,
            showErrorDialog: () => n
        })
    }
    ,
    780792: (e, t, i) => {
        "use strict";
        i.d(t, {
            AbstractIndicator: () => r
        });
        var s = i(735566)
          , n = i(79342)
          , o = i(625545);
        i(309103);
        const a = (0,
        s.getLogger)("GUI.Blocks.AbstractIndicator");
        class r {
            constructor(e) {
                this._classSuffix = "",
                this._quoteSessionPrefix = "abstract-indicator",
                this._shortMode = !1,
                this._showTooltip = !0,
                this._subscribed = !1,
                this._tooltipType = "custom",
                this._lastTooltipText = "",
                this._quoteSession = e.quoteSession
            }
            getValue() {
                return this._value
            }
            getTooltipText() {
                return this._labelMap[this._value] || ""
            }
            getLabel() {
                return this._labelMap[this._value] || ""
            }
            getElement() {
                return this._el
            }
            update(e, t) {
                this._updateValue(e, t),
                this._render()
            }
            setTooltipEnabled(e=!1) {
                this._showTooltip !== e && (this._showTooltip = e,
                this._renderTooltip())
            }
            enableShortMode() {
                !0 !== this._shortMode && (this._shortMode = !0,
                this._render())
            }
            disableShortMode() {
                !1 !== this._shortMode && (this._shortMode = !1,
                this._render())
            }
            isShortModeEnabled() {
                return this._shortMode
            }
            start() {
                !this._subscribed && this._symbolName && (this._quoteSession || (this._quoteSession = (0,
                o.getQuoteSessionInstance)("simple")),
                this._quoteSession.subscribe(this._getQuoteSessionId(), this._symbolName, this.update.bind(this)),
                this._subscribed = !0)
            }
            stop() {
                this._subscribed && this._quoteSession && this._symbolName && (this._quoteSession.unsubscribe(this._getQuoteSessionId(), this._symbolName),
                this._subscribed = !1)
            }
            setSessionStatusIcon(e) {
                this._sessionStatusIcon !== e && (this._sessionStatusIcon = e,
                this._render())
            }
            _init(e) {
                this._el = e.el ? e.el : document.createElement("span"),
                this._el.innerHTML = "",
                this._classMap = e.classMap,
                this._iconClassMap = e.iconClassMap,
                this._labelMap = e.labelMap,
                this._showTooltip = e.showTooltip,
                this._classSuffix = e.classSuffix,
                this._symbolName = e.symbol,
                this._sessionStatusIcon = e.sessionStatusIcon,
                this._onValueChange = e.onValueChange,
                e.tooltipType && (this._tooltipType = e.tooltipType),
                this._quoteSessionGUID = (0,
                n.guid)(),
                !0 === e.short && this.enableShortMode(),
                e.data && this._updateValue(e.data)
            }
            _clearClasses() {
                Object.values(this._classMap).map((e => {
                    this._el.classList.remove(`${e}`),
                    this._el.classList.remove(`${e}${this._classSuffix}`)
                }
                ))
            }
            _render() {
                this._renderClasses(),
                this._renderTooltip(),
                this._renderLabel()
            }
            _renderLabel() {
                this._el.textContent = this.getLabel()
            }
            _updateValue(e, t) {
                const i = this._getValueFromData(e);
                (t || i !== this._value) && (this._value = i,
                this._onValueChange?.(this._value))
            }
            _renderClasses() {
                const e = this._el.classList;
                e.add(this._componentClass, this._componentClass + this._classSuffix);
                const t = this._classMap[this._value];
                for (const i in this._classMap) {
                    const s = this._classMap[i];
                    s && (s === t ? (e.add(s, s + this._classSuffix),
                    this._sessionStatusIcon && e.add(s + "__withIcon")) : (e.remove(s, s + this._classSuffix),
                    this._sessionStatusIcon && e.remove(s + "__withIcon")))
                }
                !t && this._value && a.logWarn(`no className for status ${this._value}`)
            }
            _renderTooltip() {
                const e = this._showTooltip ? this.getTooltipText() : "";
                e !== this._lastTooltipText && (this._lastTooltipText = e,
                this._el.setAttribute("title", e),
                "custom" === this._tooltipType && this._el.classList.toggle("apply-common-tooltip", this._showTooltip))
            }
            _getQuoteSessionId() {
                return `${this._quoteSessionPrefix}.${this._quoteSessionGUID}`
            }
        }
    }
    ,
    719240: (e, t, i) => {
        "use strict";
        i.d(t, {
            DataModeIndicator: () => l
        });
        var s = i(444372)
          , n = (i(466281),
        i(489928),
        i(780792));
        const o = {
            connecting: "tv-data-mode--connecting",
            delayed: "tv-data-mode--delayed",
            delayed_streaming: "tv-data-mode--delayed",
            endofday: "tv-data-mode--endofday",
            forbidden: "tv-data-mode--forbidden",
            realtime: "tv-data-mode--realtime",
            snapshot: "tv-data-mode--snapshot",
            loading: "tv-data-mode--loading",
            replay: "tv-data-mode--replay"
        };
        function a() {
            return {
                connecting: s.t(null, {
                    context: "data_mode_connecting_letter"
                }, i(167040)),
                delayed: s.t(null, {
                    context: "data_mode_delayed_letter"
                }, i(800919)),
                delayed_streaming: s.t(null, {
                    context: "data_mode_delayed_streaming_letter"
                }, i(933088)),
                endofday: s.t(null, {
                    context: "data_mode_end_of_day_letter"
                }, i(918400)),
                forbidden: s.t(null, {
                    context: "data_mode_forbidden_letter"
                }, i(514149)),
                realtime: s.t(null, {
                    context: "data_mode_realtime_letter"
                }, i(650940)),
                snapshot: s.t(null, {
                    context: "data_mode_snapshot_letter"
                }, i(756757)),
                loading: "",
                replay: s.t(null, {
                    context: "data_mode_replay_letter"
                }, i(745540))
            }
        }
        const r = {
            streaming: "realtime"
        };
        class l extends n.AbstractIndicator {
            constructor(e) {
                super(e),
                this._quoteSessionPrefix = "data-mode-indicator",
                this._componentClass = "tv-data-mode",
                this._init(e)
            }
            getLabel() {
                return !0 === this._shortMode ? this._shortLabelMap[this._value] || "" : super.getLabel()
            }
            setMode(e, t) {
                this.update({
                    values: {
                        update_mode: e,
                        update_mode_seconds: t
                    }
                })
            }
            hide() {
                this._el.classList.add("i-hidden")
            }
            show() {
                this._el.classList.remove("i-hidden")
            }
            getTooltipText() {
                let e = "";
                const t = this.getValue();
                if ("" === t)
                    return e;
                switch (t) {
                case "delayed":
                    e = s.t(null, void 0, i(369539));
                    break;
                case "delayed_streaming":
                    e = s.t(null, void 0, i(167476));
                    break;
                default:
                    e = this._labelMap[t] || e
                }
                return ["delayed", "delayed_streaming"].includes(t) && (e = e.format({
                    number: String(Math.round(this._modeInterval / 60))
                })),
                e
            }
            _init(e={}) {
                const t = Object.assign({}, {
                    classMap: o,
                    classSuffix: "",
                    data: {
                        values: {
                            update_mode: "connecting"
                        }
                    },
                    labelMap: {
                        connecting: s.t(null, void 0, i(366891)),
                        delayed: s.t(null, void 0, i(739688)),
                        delayed_streaming: s.t(null, void 0, i(739688)),
                        endofday: s.t(null, void 0, i(328304)),
                        forbidden: s.t(null, void 0, i(909161)),
                        realtime: s.t(null, void 0, i(303058)),
                        snapshot: s.t(null, void 0, i(988408)),
                        loading: "",
                        replay: s.t(null, void 0, i(38822))
                    },
                    modeInterval: 600,
                    short: !1,
                    shortLabelMap: a(),
                    showTooltip: !0,
                    tooltipType: "custom"
                }, e);
                this._modeInterval = t.modeInterval || 600,
                this._shortLabelMap = t.shortLabelMap || a(),
                super._init(t),
                this._render()
            }
            _getValueFromData(e) {
                let t;
                return t = void 0 !== e.values && void 0 !== e.values.update_mode ? e.values.update_mode : this.getValue(),
                r[t] || t
            }
            _updateValue(e, t) {
                void 0 !== e.values && void 0 !== e.values.update_mode_seconds && (this._modeInterval = e.values.update_mode_seconds),
                super._updateValue(e, t)
            }
        }
    }
    ,
    600303: (e, t, i) => {
        "use strict";
        i.d(t, {
            MarketStatusIndicator: () => r
        });
        var s = i(444372)
          , n = (i(972525),
        i(780792));
        const o = {
            invalid: "tv-market-status--invalid",
            market: "tv-market-status--market",
            out_of_session: "tv-market-status--out-of-session",
            post_market: "tv-market-status--post-market",
            pre_market: "tv-market-status--pre-market",
            loading: "tv-market-status--loading",
            holiday: "tv-market-status--holiday",
            replay: "tv-market-status--replay",
            delisted: "tv-market-status--delisted"
        }
          , a = {
            invalid: "tv-market-status__icon--invalid",
            market: "tv-market-status__icon--market",
            out_of_session: "tv-market-status__icon--out-of-session",
            post_market: "tv-market-status__icon--post-market",
            pre_market: "tv-market-status__icon--pre-market",
            loading: "tv-market-status__icon--loading",
            holiday: "tv-market-status__icon--holiday",
            replay: "tv-market-status__icon--replay",
            delisted: "tv-market-status__icon--delisted"
        };
        class r extends n.AbstractIndicator {
            constructor(e) {
                super(e),
                this._quoteSessionPrefix = "market-status-indicator",
                this._componentClass = "tv-market-status",
                this._extraTitle = "",
                this._init(e)
            }
            setStatus(e, t) {
                const i = {
                    values: {
                        current_session: "delisted" === this.getValue() ? "delisted" : e
                    }
                };
                this.update(i, t)
            }
            getTooltipText() {
                let e = super.getTooltipText();
                return "" === e || "" !== this._extraTitle && (e = `${e}, ${this._extraTitle}`),
                e
            }
            setExtraTitle(e) {
                this._extraTitle = e
            }
            reset() {
                this._clearClasses(),
                this._labelEl.textContent = "",
                this._extraTitle = "",
                this._el.setAttribute("title", ""),
                this._value = ""
            }
            enableShortMode(e=!0) {
                void 0 !== this._labelEl && this._labelEl.classList.add("i-hidden"),
                super.enableShortMode()
            }
            disableShortMode() {
                void 0 !== this._labelEl && this._labelEl.classList.remove("i-hidden"),
                super.disableShortMode()
            }
            _renderLabel() {
                this._labelEl.textContent = this.getLabel()
            }
            _getValueFromData(e) {
                return e.values?.typespecs?.includes("discontinued") ? "delisted" : void 0 !== e.values?.current_session ? e.values.current_session : this.getValue()
            }
            _render() {
                this._renderLabelElement(),
                this._sessionStatusIcon ? this._renderIconElement() : this._renderDotElement(),
                super._render()
            }
            _init(e) {
                const t = Object.assign({}, function() {
                    const e = {
                        invalid: s.t(null, void 0, i(652969)),
                        market: s.t(null, void 0, i(241410)),
                        out_of_session: s.t(null, void 0, i(762464)),
                        post_market: s.t(null, void 0, i(673897)),
                        pre_market: s.t(null, void 0, i(236018)),
                        loading: s.t(null, void 0, i(786726)),
                        holiday: s.t(null, void 0, i(987845)),
                        delisted: s.t(null, void 0, i(254602)),
                        replay: ""
                    };
                    return {
                        classMap: o,
                        iconClassMap: a,
                        classSuffix: "",
                        data: {},
                        extraTitle: "",
                        labelMap: e,
                        short: !1,
                        showTooltip: !0,
                        tooltipType: "custom"
                    }
                }(), e);
                super._init(t),
                this.setExtraTitle(t.extraTitle),
                this._render()
            }
            _renderLabelElement() {
                void 0 === this._labelEl && (this._labelEl = document.createElement("span"),
                this._labelEl.classList.add(`${this._componentClass}__label`),
                this._labelEl.classList.add(`${this._componentClass}__label${this._classSuffix}`),
                this._el.appendChild(this._labelEl))
            }
            _renderDotElement() {
                this._el.contains(this._iconEl) && this._el.removeChild(this._iconEl),
                void 0 === this._dotEl && (this._dotEl = document.createElement("span"),
                this._dotEl.classList.add(`${this._componentClass}__dot`),
                this._dotEl.classList.add(`${this._componentClass}__dot${this._classSuffix}`),
                this._el.appendChild(this._dotEl))
            }
            _renderIconElement() {
                this._el.contains(this._dotEl) && this._el.removeChild(this._dotEl),
                void 0 === this._iconEl && this._value && (this._iconEl = document.createElement("span"),
                this._iconEl.classList.add(`${this._componentClass}__icon`),
                this._iconEl.classList.add(`${this._componentClass}__icon${this._classSuffix}`),
                this._el.appendChild(this._iconEl))
            }
        }
    }
    ,
    778785: (e, t, i) => {
        "use strict";
        i.d(t, {
            mobiletouch: () => n,
            setClasses: () => a,
            touch: () => o
        });
        var s = i(23482);
        const n = s.mobiletouch
          , o = s.touch;
        function a() {
            document.documentElement.classList.add(s.touch ? "feature-touch" : "feature-no-touch", s.mobiletouch ? "feature-mobiletouch" : "feature-no-mobiletouch")
        }
    }
    ,
    404573: (e, t, i) => {
        "use strict";
        i.d(t, {
            Draggable: () => o,
            PointerBackend: () => a
        });
        var s = i(650151)
          , n = i(318557);
        i(492575);
        class o {
            constructor(e) {
                this._helper = null,
                this._handleDragStart = e => {
                    if (null !== this._helper)
                        return;
                    const t = this._source;
                    t.classList.add("ui-draggable-dragging");
                    const [i,s] = [(0,
                    n.outerWidth)(t), (0,
                    n.outerHeight)(t)];
                    this._helper = {
                        startTop: parseFloat(t.style.top) || 0,
                        startLeft: parseFloat(t.style.left) || 0,
                        nextTop: null,
                        nextLeft: null,
                        raf: null,
                        size: [i, s],
                        containment: this._containment instanceof HTMLElement ? [parseInt(getComputedStyle(this._containment).borderLeftWidth) + parseInt(getComputedStyle(this._containment).paddingLeft), parseInt(getComputedStyle(this._containment).borderTopWidth) + parseInt(getComputedStyle(this._containment).paddingTop), this._containment.offsetWidth - parseInt(getComputedStyle(this._containment).borderRightWidth) - parseInt(getComputedStyle(this._containment).paddingRight) - parseInt(getComputedStyle(t).marginLeft) - parseInt(getComputedStyle(t).marginRight) - i, this._containment.offsetHeight - parseInt(getComputedStyle(this._containment).borderBottomWidth) - parseInt(getComputedStyle(this._containment).paddingBottom) - parseInt(getComputedStyle(t).marginTop) - parseInt(getComputedStyle(t).marginBottom) - s] : "window" === this._containment ? [window.scrollX, window.scrollY, window.scrollX + document.documentElement.offsetWidth - i, window.scrollY + document.documentElement.offsetHeight - s] : null
                    },
                    this._start?.()
                }
                ,
                this._handleDragMove = e => {
                    if (null === this._helper)
                        return;
                    const {current: t, initial: i} = e.detail
                      , s = this._source
                      , n = this._helper.nextTop
                      , o = this._helper.nextLeft
                      , a = "y" === this._axis || !1 === this._axis || 0 !== t.movementY;
                    if (a) {
                        const e = this._helper.startTop;
                        isFinite(e) && (this._helper.nextTop = t.clientY - i.clientY + e)
                    }
                    const r = "x" === this._axis || !1 === this._axis || 0 !== t.movementY;
                    if (r) {
                        const e = this._helper.startLeft;
                        isFinite(e) && (this._helper.nextLeft = t.clientX - i.clientX + e)
                    }
                    if (null !== this._helper.containment) {
                        const [e,t,i,s] = this._helper.containment;
                        a && this._helper.nextTop && (this._helper.nextTop = Math.min(this._helper.nextTop, s),
                        this._helper.nextTop = Math.max(this._helper.nextTop, t)),
                        r && this._helper.nextLeft && (this._helper.nextLeft = Math.min(this._helper.nextLeft, i),
                        this._helper.nextLeft = Math.max(this._helper.nextLeft, e))
                    }
                    null !== this._helper.raf || n === this._helper.nextTop && o === this._helper.nextLeft || (this._helper.raf = requestAnimationFrame(( () => {
                        null !== this._helper && (null !== this._helper.nextTop && (s.style.top = this._helper.nextTop + "px",
                        this._helper.nextTop = null),
                        null !== this._helper.nextLeft && (s.style.left = this._helper.nextLeft + "px",
                        this._helper.nextLeft = null),
                        this._helper.raf = null)
                    }
                    ))),
                    this._drag?.()
                }
                ,
                this._handleDragStop = e => {
                    if (null === this._helper)
                        return;
                    this._source.classList.remove("ui-draggable-dragging"),
                    this._helper = null,
                    this._stop?.()
                }
                ;
                const t = this._source = e.source;
                t.classList.add("ui-draggable");
                const i = this._handle = (e.handle ? t.querySelector(e.handle) : null) ?? t;
                i.classList.add("ui-draggable-handle"),
                this._start = e.start,
                this._stop = e.stop,
                this._drag = e.drag,
                this._backend = new a({
                    handle: i,
                    onDragStart: this._handleDragStart,
                    onDragMove: this._handleDragMove,
                    onDragStop: this._handleDragStop
                }),
                this._axis = e.axis ?? !1,
                this._containment = e.containment
            }
            destroy() {
                const e = this._source;
                e.classList.remove("ui-draggable"),
                e.classList.remove("ui-draggable-dragging");
                this._handle.classList.remove("ui-draggable-handle"),
                this._backend.destroy(),
                null !== this._helper && (this._helper.raf && cancelAnimationFrame(this._helper.raf),
                this._helper = null)
            }
        }
        class a {
            constructor(e) {
                this._pointerStarted = !1,
                this._initial = null,
                this._handlePointerDown = e => {
                    if (null !== this._initial || 0 !== e.button)
                        return;
                    if (!(e.target instanceof Element && this._handle.contains(e.target)))
                        return;
                    if (this._initial = e,
                    !this._distance && (this._pointerStart(),
                    !this._pointerStarted))
                        return;
                    e.preventDefault();
                    const t = this._getEventTarget();
                    t.addEventListener("pointermove", this._handlePointerMove),
                    t.addEventListener("pointerup", this._handlePointerUp),
                    t.addEventListener("pointercancel", this._handlePointerUp),
                    t.addEventListener("lostpointercapture", this._handleLostPointerCapture)
                }
                ,
                this._handleLostPointerCapture = e => {
                    this._getEventTarget() === e.target && this._handlePointerUp(e)
                }
                ,
                this._handlePointerMove = e => {
                    if (null !== this._initial && this._initial.pointerId === e.pointerId)
                        if (this._pointerStarted)
                            this._pointerDrag(e);
                        else if (this._pointerDistanceMet(e)) {
                            if (this._pointerStart(),
                            this._pointerStarted)
                                return void this._pointerDrag(e);
                            this._handlePointerUp(e)
                        }
                }
                ,
                this._handlePointerUp = e => {
                    if (null === this._initial || this._initial.pointerId !== e.pointerId)
                        return;
                    e.preventDefault();
                    const t = this._getEventTarget();
                    t.removeEventListener("pointermove", this._handlePointerMove),
                    t.removeEventListener("pointerup", this._handlePointerUp),
                    t.removeEventListener("pointercancel", this._handlePointerUp),
                    t.removeEventListener("lostpointercapture", this._handlePointerUp),
                    this._pointerStarted && (this._pointerStarted = !1,
                    t.releasePointerCapture(this._initial.pointerId),
                    this._dispatchEvent(this._createEvent("pointer-drag-stop", e))),
                    this._initial = null
                }
                ;
                const t = this._handle = e.handle;
                this._onDragStart = e.onDragStart,
                this._onDragMove = e.onDragMove,
                this._onDragStop = e.onDragStop,
                this._distance = e.distance ?? 0,
                this._rootElement = e.rootElement,
                t.style.touchAction = "none",
                t.addEventListener("pointerdown", this._handlePointerDown)
            }
            destroy() {
                const e = this._handle;
                e.style.touchAction = "",
                e.removeEventListener("pointerdown", this._handlePointerDown),
                e.removeEventListener("pointermove", this._handlePointerMove),
                e.removeEventListener("pointerup", this._handlePointerUp),
                e.removeEventListener("pointercancel", this._handlePointerUp),
                e.removeEventListener("lostpointercapture", this._handlePointerUp),
                null !== this._initial && (e.releasePointerCapture(this._initial.pointerId),
                this._initial = null),
                this._pointerStarted = !1
            }
            _pointerStart() {
                if (!this._initial)
                    return;
                const e = this._getEventTarget();
                this._dispatchEvent(this._createEvent("pointer-drag-start", this._initial)) ? (this._pointerStarted = !0,
                e.setPointerCapture(this._initial.pointerId)) : this._initial = null
            }
            _pointerDrag(e) {
                e.preventDefault(),
                this._dispatchEvent(this._createEvent("pointer-drag-move", e))
            }
            _pointerDistanceMet(e) {
                return !this._initial || !this._distance || Math.max(Math.abs(this._initial.clientX - e.clientX), Math.abs(this._initial.clientY - e.clientY)) >= this._distance
            }
            _getEventTarget() {
                return this._rootElement ?? this._handle
            }
            _dispatchEvent(e) {
                switch (e.type) {
                case "pointer-drag-start":
                    this._onDragStart(e);
                    break;
                case "pointer-drag-move":
                    this._onDragMove(e);
                    break;
                case "pointer-drag-stop":
                    this._onDragStop(e)
                }
                return !e.defaultPrevented
            }
            _createEvent(e, t) {
                return (0,
                s.assert)(null !== this._initial),
                new CustomEvent(e,{
                    bubbles: !0,
                    cancelable: !0,
                    detail: {
                        backend: this,
                        initial: this._initial,
                        current: t
                    }
                })
            }
        }
    }
    ,
    583912: (e, t, i) => {
        "use strict";
        i.d(t, {
            linking: () => b
        });
        var s = i(290484)
          , n = i(650151)
          , o = i(978296)
          , a = (i(953297),
        i(378975))
          , r = i(975179)
          , l = i(735566)
          , c = i(62802)
          , d = i(588948)
          , u = i(776734)
          , h = i(503679)
          , m = i(149109)
          , _ = i(912445);
        const g = (0,
        l.getLogger)("Linking");
        class p {
            constructor(e, t, i) {
                this.watchedSymbol = new o.WatchedValue,
                this.seriesShortSymbol = new o.WatchedValue,
                this.proSymbol = new o.WatchedValue,
                this.ensuredProSymbol = new o.WatchedValue,
                this.watchedInterval = new o.WatchedValue,
                this.watchedIntraday = new o.WatchedValue,
                this.watchedSeconds = new o.WatchedValue,
                this.watchedTicks = new o.WatchedValue,
                this.watchedDataFrequencyResolution = new o.WatchedValue,
                this.watchedRange = new o.WatchedValue,
                this.watchedSupportedResolutions = new o.WatchedValue,
                this.watchedSupportedChartStyles = new o.WatchedValue,
                this.symbolNamesList = new o.WatchedValue,
                this._chartWidgetCollection = null,
                this._chartWidgetBindingState = 0,
                this._activeChartWidget = null,
                this._linkingGroupCharts = null,
                this._boundChartWidget = null,
                this._watchedSymbolListenerBound = this._watchedSymbolListener.bind(this),
                this._watchedIntervalListenerBound = this._watchedIntervalListener.bind(this),
                this._setGroupSymbolCancellationToken = {
                    cancelled: !1
                },
                this._muted = !1,
                this.updateBoundChartWidget = () => {
                    const e = this._chartToBind();
                    e !== this._boundChartWidget && (null === e ? this.unbindFromChartWidget() : this.bindToChartWidget(e))
                }
                ,
                this._updateAllGroupChartWidgets = () => {
                    this._destroySymbolIntervalPropertySubscriptions?.();
                    const e = (0,
                    n.ensureNotNull)(this._linkingGroupCharts).value()
                      , t = []
                      , i = [];
                    for (const s of e) {
                        const e = s.symbolWV().spawn()
                          , n = s.resolutionWV().spawn();
                        e.subscribe(this._updateSymbolByProperty.bind(this, s)),
                        n.subscribe(this._updateIntervalByProperty.bind(this, s)),
                        t.push(e),
                        i.push(n)
                    }
                    this._destroySymbolIntervalPropertySubscriptions = () => {
                        t.forEach((e => e.destroy())),
                        i.forEach((e => e.destroy())),
                        this._destroySymbolIntervalPropertySubscriptions = void 0
                    }
                    ;
                    const s = this.watchedSymbol.value();
                    e.length > 1 && this._needApplySymbol(s) && !this._muted && this._setGroupSymbol(s);
                    const o = this.watchedInterval.value();
                    e.length > 1 && this._needApplyInterval(o) && !this._muted && this._setGroupInterval(o),
                    this.updateBoundChartWidget()
                }
                ,
                this._groupIndex = e;
                const s = (e, t) => {
                    e.subscribe((e => {
                        i() === this && t.setValue(e)
                    }
                    ), {
                        callWithLast: !0
                    })
                }
                ;
                s(this.watchedSymbol, t.watchedSymbol),
                s(this.seriesShortSymbol, t.seriesShortSymbol),
                s(this.proSymbol, t.proSymbol),
                s(this.ensuredProSymbol, t.ensuredProSymbol),
                s(this.watchedInterval, t.watchedInterval),
                s(this.watchedIntraday, t.watchedIntraday),
                s(this.watchedSeconds, t.watchedSeconds),
                s(this.watchedTicks, t.watchedTicks),
                s(this.watchedDataFrequencyResolution, t.watchedDataFrequencyResolution),
                s(this.watchedRange, t.watchedRange),
                s(this.watchedSupportedResolutions, t.watchedSupportedResolutions),
                s(this.watchedSupportedChartStyles, t.watchedSupportedChartStyles),
                s(this.symbolNamesList, t.symbolNamesList),
                this.watchedSymbol.subscribe((e => {
                    this._boundChartWidget && this._boundChartWidget.hasModel() && this._mainSeries().symbolSameAsCurrent(e) || this.proSymbol.setValue(e)
                }
                ), {
                    callWithLast: !0
                })
            }
            mute(e) {
                this._muted = e
            }
            bindToChartWidgetCollection(e) {
                this.unbindFromChartWidgetCollection(),
                this._chartWidgetCollection = e,
                this._activeChartWidget = e.activeChartWidget.spawn(),
                this._activeChartWidget.subscribe(this.updateBoundChartWidget),
                this._linkingGroupCharts = e.linkingGroupsCharts(this._groupIndex).spawn(),
                this._linkingGroupCharts.subscribe(this._updateAllGroupChartWidgets),
                this.updateBoundChartWidget(),
                this._updateAllGroupChartWidgets()
            }
            unbindFromChartWidgetCollection() {
                this.unbindFromChartWidget(),
                this._chartWidgetCollection = null,
                this._activeChartWidget?.destroy(),
                this._activeChartWidget = null,
                this._linkingGroupCharts?.destroy(),
                this._linkingGroupCharts = null,
                this._destroySymbolIntervalPropertySubscriptions?.()
            }
            bindToChartWidget(e) {
                if (this.unbindFromChartWidget(),
                this._boundChartWidget = e,
                e.hasModel())
                    return void this._onChartModelCreated(e.model());
                e.modelCreated().subscribe(this, this._onChartModelCreated, !0),
                this._chartWidgetBindingState = 1;
                const t = e.mainSeriesProperties().childs();
                this.watchedSymbol.setValue(t.symbol.value()),
                this.watchedInterval.setValue(t.interval.value()),
                this._boundChartWidget.linkingGroupIndex().subscribe(this.updateBoundChartWidget)
            }
            unbindFromChartWidget() {
                const e = this._boundChartWidget;
                if (null !== e) {
                    switch (this._chartWidgetBindingState) {
                    case 1:
                        e.modelCreated().unsubscribeAll(this);
                        break;
                    case 2:
                        this.watchedSymbol.unsubscribe(this._watchedSymbolListenerBound);
                        const t = this._mainSeries().dataEvents();
                        t.symbolResolved().unsubscribeAll(this),
                        t.symbolError().unsubscribeAll(this),
                        this._mainSeries().onIntervalChanged().unsubscribeAll(this),
                        this.watchedInterval.unsubscribe(this._watchedIntervalListenerBound),
                        delete this.watchedSymbol.writeLock
                    }
                    e.linkingGroupIndex().unsubscribe(this.updateBoundChartWidget),
                    this._boundChartWidget = null,
                    this._chartWidgetBindingState = 0
                }
            }
            boundChartWidget() {
                return this._boundChartWidget
            }
            _mainSeries() {
                if (!this._boundChartWidget)
                    throw new Error("ChartWidget is undefined");
                return this._boundChartWidget.model().mainSeries()
            }
            _watchedSymbolListener(e) {
                this._needApplySymbol(e) && !this._muted && (this._setGroupSymbol(e),
                this._sendSnowplowAnalytics())
            }
            _updateSymbolByProperty(e, t) {
                const i = this._symbolLock();
                i && this._needApplySymbol(t) && !this._muted && this._setGroupSymbol(t),
                (i || e === this._boundChartWidget) && this.watchedSymbol.setValue(t)
            }
            _watchedIntervalListener(e) {
                const t = a.Interval.normalize(e);
                t && this._needApplyInterval(t) && !this._muted && this._setGroupInterval(t)
            }
            _updateIntervalByProperty(e, t) {
                const i = this._intervalLock()
                  , s = a.Interval.normalize(t);
                i && s && this._needApplyInterval(s) && !this._muted && this._setGroupInterval(s),
                (i || e === this._boundChartWidget) && this.watchedInterval.setValue(s ?? t)
            }
            _sendSnowplowAnalytics() {
                if (window.user.do_not_track)
                    return;
                const e = this._mainSeries()
                  , t = () => {
                    e.dataEvents().symbolResolved().unsubscribe(this, i)
                }
                  , i = i => {
                    (0,
                    u.getTracker)().then((e => {
                        if (null === e)
                            return;
                        const t = (0,
                        n.ensureNotNull)(this._chartWidgetCollection)
                          , s = t.layout.value()
                          , o = t.metaInfo.uid.value() || "";
                        e.trackChartSymbols(i.pro_name, i.type, s, o, window.user.declared_status === h.UserStatus.Pro)
                    }
                    )),
                    e.dataEvents().symbolError().unsubscribe(this, t)
                }
                ;
                e.dataEvents().symbolResolved().subscribe(this, i, !0),
                e.dataEvents().symbolError().subscribe(this, t, !0)
            }
            _updateSeriesSymbolInfo() {
                this.seriesShortSymbol.setValue((0,
                n.ensureNotNull)(this._boundChartWidget).getSymbol(!0));
                const e = this._mainSeries().symbolInfo();
                if (e) {
                    const t = e.pro_name || !1;
                    this.proSymbol.setValue(t || this.watchedSymbol.value()),
                    this.ensuredProSymbol.setValue(this.proSymbol.value()),
                    e.aliases && this.symbolNamesList.setValue(e.aliases);
                    let i = (0,
                    m.allChartStyles)();
                    ((0,
                    r.isCloseBasedSymbol)(e) || this._mainSeries().intervalObj().is1Tick()) && (i = i.filter((e => (0,
                    r.isSingleValueBasedStyle)(e)))),
                    this.watchedSupportedChartStyles.setValue(i),
                    this.watchedIntraday.setValue(!!e.has_intraday),
                    this.watchedSeconds.setValue(!!e.has_seconds),
                    this.watchedTicks.setValue(!(0,
                    r.isCloseBasedSymbol)(e) && !!e["is-tickbars-available"]),
                    this.watchedRange.setValue(!(0,
                    r.isCloseBasedSymbol)(e));
                    const s = e.data_frequency ? e.data_frequency : void 0;
                    this.watchedDataFrequencyResolution.setValue(s)
                } else
                    this.watchedIntraday.setValue(!1),
                    this.watchedSeconds.setValue(!1),
                    this.watchedTicks.setValue(!1),
                    this.watchedRange.setValue(!1),
                    this._mainSeries().isFailed() && this.ensuredProSymbol.setValue(this.proSymbol.value())
            }
            _onChartModelCreated(e) {
                if (!this._boundChartWidget)
                    throw new Error("ChartWidget is undefined");
                this._chartWidgetBindingState = 2,
                this.watchedSymbol.setValue(this._boundChartWidget.symbolWV().value()),
                this.watchedSymbol.subscribe(this._watchedSymbolListenerBound);
                const t = e.mainSeries().dataEvents();
                t.symbolResolved().subscribe(this, this._updateSeriesSymbolInfo),
                t.symbolError().subscribe(this, this._updateSeriesSymbolInfo),
                e.mainSeries().onIntervalChanged().subscribe(this, this._updateSeriesSymbolInfo),
                this._updateSeriesSymbolInfo(),
                this.watchedInterval.setValue(this._boundChartWidget.resolutionWV().value()),
                this.watchedInterval.subscribe(this._watchedIntervalListenerBound),
                this._boundChartWidget.readOnly() && (this.watchedSymbol.writeLock = !0)
            }
            _chartToBind() {
                const e = this._chartWidgetCollection;
                return null === e ? null : e.activeChartWidget.value().linkingGroupIndex().value() === this._groupIndex ? e.activeChartWidget.value() : null !== this._boundChartWidget && this._boundChartWidget.linkingGroupIndex().value() === this._groupIndex ? this._boundChartWidget : e.getAll().find((e => e.linkingGroupIndex().value() === this._groupIndex)) ?? null
            }
            _symbolLock() {
                return !!this._chartWidgetCollection?.lock.symbol.value()
            }
            _intervalLock() {
                return !!this._chartWidgetCollection?.lock.interval.value()
            }
            _chartsForLock(e) {
                return (0 === e ? this._symbolLock() : this._intervalLock()) ? (0,
                n.ensureNotNull)(this._linkingGroupCharts).value() : this._boundChartWidget ? [this._boundChartWidget] : []
            }
            _setGroupSymbol(e) {
                this.mute(!0),
                this._setGroupSymbolCancellationToken.cancelled = !0;
                const t = this._setGroupSymbolCancellationToken = {
                    cancelled: !1
                };
                (0,
                n.ensureNotNull)(this._chartWidgetCollection).setSymbol(e, this._groupIndex, (0,
                n.ensureNotNull)(this._boundChartWidget)).finally(( () => {
                    if (this._boundChartWidget && !t.cancelled) {
                        const t = this._boundChartWidget.model().mainSeries();
                        t.symbolSameAsCurrent(e) || (this.watchedSymbol.setValue(t.symbol()),
                        this.proSymbol.setValue(t.proSymbol()))
                    }
                }
                )),
                this.mute(!1)
            }
            _needApplySymbol(e) {
                const t = this._chartsForLock(0)
                  , i = t.find((t => t.hasModel() && t.model().mainSeries().symbolInfo() && t.model().mainSeries().symbolSameAsResolved(e)));
                if (i) {
                    const e = i.model().mainSeries();
                    if (t.every((t => e.symbolSameAsResolved(t.symbolWV().value()))))
                        return !1
                }
                return t.some((t => t.symbolWV().value() !== e))
            }
            _setGroupInterval(e) {
                this.mute(!0),
                (0,
                n.ensureNotNull)(this._chartWidgetCollection).setResolution(e, this._groupIndex).finally(( () => {
                    if (this._boundChartWidget) {
                        const t = this._boundChartWidget.resolutionWV().value();
                        a.Interval.isEqual(t, e) || this.watchedInterval.setValue(t)
                    }
                }
                )),
                this.mute(!1)
            }
            _needApplyInterval(e) {
                return this._chartsForLock(1).some((t => !a.Interval.isEqual(t.resolutionWV().value(), e)))
            }
        }
        const b = new class {
            constructor() {
                this._watchedSymbol = new o.WatchedValue,
                this._seriesShortSymbol = new o.WatchedValue,
                this._proSymbol = new o.WatchedValue,
                this._ensuredProSymbol = new o.WatchedValue,
                this._watchedInterval = new o.WatchedValue,
                this._watchedIntraday = new o.WatchedValue,
                this._watchedSeconds = new o.WatchedValue,
                this._watchedTicks = new o.WatchedValue,
                this._watchedDataFrequencyResolution = new o.WatchedValue,
                this._watchedRange = new o.WatchedValue,
                this._watchedSupportedResolutions = new o.WatchedValue,
                this._watchedSupportedChartStyles = new o.WatchedValue([]),
                this._symbolNamesList = new o.WatchedValue,
                this._chartWidgetCollection = null,
                this._onSymbolLinkBound = this._onSymbolLink.bind(this),
                this._searchCharts = null,
                this._searchChartsLoadDebounced = null,
                this._selfEmit = !1,
                this._preventFeedBySymbol = !1,
                this._feedBySymbolDebounceCounter = 0,
                this._linkingGroups = new Map,
                this._activeLinkingGroup = new o.WatchedValue,
                this._activeLinkingGroupIndex = null,
                this._updateLinkingGroups = () => {
                    (0,
                    n.ensureNotNull)(this._chartWidgetCollection).allLinkingGroups().value().forEach((e => this._linkingGroup(e))),
                    this._linkingGroups.forEach((e => e.updateBoundChartWidget()))
                }
                ,
                this._activeLinkingGroup.setValue(this._linkingGroup(null));
                const e = (e, t) => {
                    e.subscribe((e => t().setValue(e)), {
                        callWithLast: !0
                    })
                }
                ;
                e(this._watchedSymbol, ( () => this._activeLinkingGroup.value().watchedSymbol)),
                e(this._seriesShortSymbol, ( () => this._activeLinkingGroup.value().seriesShortSymbol)),
                e(this._proSymbol, ( () => this._activeLinkingGroup.value().proSymbol)),
                e(this._ensuredProSymbol, ( () => this._activeLinkingGroup.value().ensuredProSymbol)),
                e(this._watchedInterval, ( () => this._activeLinkingGroup.value().watchedInterval)),
                e(this._watchedIntraday, ( () => this._activeLinkingGroup.value().watchedIntraday)),
                e(this._watchedSeconds, ( () => this._activeLinkingGroup.value().watchedSeconds)),
                e(this._watchedTicks, ( () => this._activeLinkingGroup.value().watchedTicks)),
                e(this._watchedDataFrequencyResolution, ( () => this._activeLinkingGroup.value().watchedDataFrequencyResolution)),
                e(this._watchedRange, ( () => this._activeLinkingGroup.value().watchedRange)),
                e(this._watchedSupportedResolutions, ( () => this._activeLinkingGroup.value().watchedSupportedResolutions)),
                e(this._watchedSupportedChartStyles, ( () => this._activeLinkingGroup.value().watchedSupportedChartStyles)),
                e(this._symbolNamesList, ( () => this._activeLinkingGroup.value().symbolNamesList));
                const t = e => {
                    this._watchedSymbol.setValue(e.watchedSymbol.value()),
                    this._seriesShortSymbol.setValue(e.seriesShortSymbol.value()),
                    this._proSymbol.setValue(e.proSymbol.value()),
                    this._ensuredProSymbol.setValue(e.ensuredProSymbol.value()),
                    this._watchedInterval.setValue(e.watchedInterval.value()),
                    this._watchedIntraday.setValue(e.watchedIntraday.value()),
                    this._watchedSeconds.setValue(e.watchedSeconds.value()),
                    this._watchedTicks.setValue(e.watchedTicks.value()),
                    this._watchedDataFrequencyResolution.setValue(e.watchedDataFrequencyResolution.value()),
                    this._watchedRange.setValue(e.watchedRange.value()),
                    this._watchedSupportedResolutions.setValue(e.watchedSupportedResolutions.value()),
                    this._watchedSupportedChartStyles.setValue(e.watchedSupportedChartStyles.value()),
                    this._symbolNamesList.setValue(e.symbolNamesList.value())
                }
                ;
                this._activeLinkingGroup.subscribe(t),
                t(this._activeLinkingGroup.value()),
                (0,
                _.setMuteLinkingGroup)(( (e, t) => {
                    this._linkingGroup(e).mute(t)
                }
                ))
            }
            get symbol() {
                return this._watchedSymbol
            }
            get proSymbol() {
                return this._proSymbol.readonly()
            }
            get ensuredProSymbol() {
                return this._ensuredProSymbol.readonly()
            }
            get symbolNamesList() {
                return this._symbolNamesList.readonly()
            }
            get seriesShortSymbol() {
                return this._seriesShortSymbol.readonly()
            }
            get interval() {
                return this._watchedInterval
            }
            get intraday() {
                return this._watchedIntraday.readonly()
            }
            get seconds() {
                return this._watchedSeconds.readonly()
            }
            get ticks() {
                return this._watchedTicks.readonly()
            }
            get range() {
                return this._watchedRange.readonly()
            }
            get supportedResolutions() {
                return this._watchedSupportedResolutions.readonly()
            }
            get supportedChartStyles() {
                return this._watchedSupportedChartStyles.readonly()
            }
            get preventFeedBySymbol() {
                return this._preventFeedBySymbol
            }
            get dataFrequencyResolution() {
                return this._watchedDataFrequencyResolution.readonly()
            }
            activeLinkingGroup() {
                return this._activeLinkingGroup.readonly()
            }
            getChartWidget() {
                return this.activeLinkingGroup().value().boundChartWidget()
            }
            bindToChartWidgetCollection(e) {
                this._chartWidgetCollection?.onAboutToBeDestroyed.unsubscribeAll(this),
                this._unbindFromChartWidgetCollection(),
                this._chartWidgetCollection = e,
                this._chartWidgetCollection.onAboutToBeDestroyed.subscribe(this, this._unbindFromChartWidgetCollection),
                this._chartWidgetCollection.allLinkingGroups().subscribe(this._updateLinkingGroups),
                this._updateLinkingGroups(),
                this._activeLinkingGroupIndex = e.activeLinkingGroup().spawn(),
                this._activeLinkingGroupIndex.subscribe((e => {
                    this._activeLinkingGroup.setValue(this._linkingGroup(e))
                }
                ), {
                    callWithLast: !0
                }),
                this._linkingGroups.forEach((t => t.bindToChartWidgetCollection(e)))
            }
            bindToSearchCharts(e) {
                this.unbindFromSearchCharts(),
                this._searchCharts = e,
                e.onSearchBySymbol.subscribe(this, this._onSearchBySymbol),
                e.loadingSymbol.subscribe((e => {
                    !1 === e && (this._feedBySymbolDebounceCounter = 0)
                }
                )),
                this._watchedSymbol.subscribe(this._onSymbolLinkBound)
            }
            unbindFromSearchCharts() {
                this._searchCharts && (this._searchCharts.onSearchBySymbol.unsubscribe(this, this._onSearchBySymbol),
                this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),
                this._searchCharts = null)
            }
            setPreventFeedBySymbol(e) {
                this._preventFeedBySymbol = e
            }
            setSymbolAndLogInitiator(e, t, i) {
                (this.symbol.value() !== e || i) && (g.logInfo(`Change linking symbol to ${e}, initiator: ${t}`),
                this.symbol.setValue(e, i))
            }
            _onSearchBySymbol(e) {
                if (!e.resolved_symbol)
                    throw new Error("no resolved_symbol");
                this._selfEmit = !0,
                this._watchedSymbol.setValue(e.resolved_symbol),
                this._selfEmit = !1
            }
            _onSymbolLink(e) {
                if (!this._selfEmit) {
                    if (!this._searchCharts) {
                        const e = "No search charts defined";
                        throw g.logError(e),
                        new Error(e)
                    }
                    this._preventFeedBySymbol || this._loadSearchCharts(e)
                }
            }
            _loadSearchCharts(e) {
                if (!this._searchCharts) {
                    const e = "No search charts defined";
                    throw g.logError(e),
                    new Error(e)
                }
                if (this._searchChartsLoadDebounced)
                    return void (this._feedBySymbolDebounceCounter < 100 && (this._feedBySymbolDebounceCounter++,
                    this._searchChartsLoadDebounced(e)));
                const t = e => this._searchCharts ? (!0 === this._searchCharts.loadingSymbol.value() ? this._feedBySymbolDebounceCounter < 100 && (this._feedBySymbolDebounceCounter++,
                this._searchChartsLoadDebounced = (0,
                s.default)(t, 2e3),
                this._searchChartsLoadDebounced(e)) : this._searchChartsLoadDebounced = null,
                this._searchCharts.feedBySymbol.call(this._searchCharts, e)) : () => {}
                ;
                !0 === this._searchCharts.loadingSymbol.value() ? this._feedBySymbolDebounceCounter < 100 && (this._feedBySymbolDebounceCounter++,
                this._searchChartsLoadDebounced = (0,
                s.default)(t, 2e3),
                this._searchChartsLoadDebounced(e)) : this._searchCharts.feedBySymbol(e)
            }
            _linkingGroup(e) {
                let t = this._linkingGroups.get(e);
                if (void 0 === t) {
                    const i = {
                        watchedSymbol: this._watchedSymbol,
                        seriesShortSymbol: this._seriesShortSymbol,
                        proSymbol: this._proSymbol,
                        ensuredProSymbol: this._ensuredProSymbol,
                        watchedInterval: this._watchedInterval,
                        watchedIntraday: this._watchedIntraday,
                        watchedSeconds: this._watchedSeconds,
                        watchedTicks: this._watchedTicks,
                        watchedDataFrequencyResolution: this._watchedDataFrequencyResolution,
                        watchedRange: this._watchedRange,
                        watchedSupportedResolutions: this._watchedSupportedResolutions,
                        watchedSupportedChartStyles: this._watchedSupportedChartStyles,
                        symbolNamesList: this._symbolNamesList
                    };
                    t = new p(e,i,( () => this._activeLinkingGroup.value())),
                    this._linkingGroups.set(e, t),
                    this._chartWidgetCollection && t.bindToChartWidgetCollection(this._chartWidgetCollection)
                }
                return t
            }
            _unbindFromChartWidgetCollection() {
                null !== this._chartWidgetCollection && (this._activeLinkingGroupIndex?.destroy(),
                this._activeLinkingGroupIndex = null,
                this._linkingGroups.forEach((e => e.unbindFromChartWidgetCollection())),
                this._chartWidgetCollection.allLinkingGroups().unsubscribe(this._updateLinkingGroups),
                this._chartWidgetCollection = null)
            }
        }
        ;
        {
            const e = (0,
            d.getFreshInitData)().symbolInfo
              , t = e ? e.pro_symbol : c.getValue("editchart.model.symbol", window.DEFAULT_SYMBOL);
            b.setSymbolAndLogInitiator(t, "initial data")
        }
        window.TradingViewApi || (window.TradingViewApi = {
            linking: b
        })
    }
    ,
    912445: (e, t, i) => {
        "use strict";
        let s;
        function n(e, t) {
            s?.(e, t)
        }
        function o(e) {
            s = e
        }
        i.d(t, {
            muteLinkingGroup: () => n,
            setMuteLinkingGroup: () => o
        })
    }
    ,
    318557: (e, t, i) => {
        "use strict";
        i.d(t, {
            contentHeight: () => n.contentHeight,
            html: () => o,
            outerHeight: () => n.outerHeight,
            outerWidth: () => n.outerWidth,
            position: () => r
        });
        var s = i(650151)
          , n = i(746326);
        function o(e, t) {
            return void 0 === t || (null === t && (e.innerHTML = ""),
            "string" != typeof t && "number" != typeof t || (e.innerHTML = String(t))),
            e
        }
        function a(e) {
            if (!e.getClientRects().length)
                return {
                    top: 0,
                    left: 0
                };
            const t = e.getBoundingClientRect()
              , i = (0,
            s.ensureNotNull)(e.ownerDocument.defaultView);
            return {
                top: t.top + i.pageYOffset,
                left: t.left + i.pageXOffset
            }
        }
        function r(e) {
            const t = getComputedStyle(e);
            let i, s = {
                top: 0,
                left: 0
            };
            if ("fixed" === t.position)
                i = e.getBoundingClientRect();
            else {
                i = a(e);
                const t = e.ownerDocument;
                let n = e.offsetParent || t.documentElement;
                for (; n && (n === t.body || n === t.documentElement) && "static" === getComputedStyle(n).position; )
                    n = n.parentElement;
                n && n !== e && 1 === n.nodeType && (s = a(n),
                s.top += parseFloat(getComputedStyle(n).borderTopWidth),
                s.left += parseFloat(getComputedStyle(n).borderLeftWidth))
            }
            return {
                top: i.top - s.top - parseFloat(t.marginTop),
                left: i.left - s.left - parseFloat(t.marginLeft)
            }
        }
    }
    ,
    812352: (e, t, i) => {
        "use strict";
        i.d(t, {
            getLocale: () => r,
            getLocaleIso: () => l,
            getLocales: () => a
        });
        var s = i(650151)
          , n = i(882289);
        const o = function() {
            const e = document.querySelectorAll("link[rel~=link-locale][data-locale]");
            if (0 === e.length)
                return n;
            const t = {};
            return e.forEach((e => {
                const i = (0,
                s.ensureNotNull)(e.getAttribute("data-locale"));
                t[i] = {
                    ...n[i],
                    href: e.href
                }
            }
            )),
            t
        }();
        function a() {
            return o
        }
        function r(e) {
            return e = e || window.locale,
            o[e]
        }
        function l(e) {
            return e = e || window.locale,
            o[e]?.iso
        }
    }
    ,
    39654: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            getIsoLanguageCodeFromLanguage: () => n
        });
        const s = {
            ar_AE: "ar",
            br: "pt",
            de_DE: "de",
            ca_ES: "ca",
            he_IL: "he",
            id_ID: "id",
            in: "en",
            kr: "ko",
            ms_MY: "ms",
            sv_SE: "sv",
            th_TH: "th",
            uk: "en",
            vi_VN: "vi",
            zh_CN: "zh-Hans",
            zh_TW: "zh-Hant",
            zh: "zh-Hans",
            hu_HU: "hu-HU"
        };
        function n(e) {
            return s[e] || e
        }
    }
    ,
    909591: (e, t, i) => {
        "use strict";
        i.d(t, {
            DialogHeaderContext: () => s
        });
        const s = i(50959).createContext({
            setHideClose: () => {}
        })
    }
    ,
    18946: (e, t, i) => {
        "use strict";
        i.d(t, {
            WIDGETBAR_WIDGET_HEADER_DEFAULT_THEME: () => a,
            WidgetbarWidgetHeader: () => r
        });
        var s = i(50959)
          , n = i(497754)
          , o = i(725479);
        const a = o;
        function r(e) {
            const {leftSlot: t, rightSlot: i, withRightSlotSeparator: o, theme: r=a} = e;
            return s.createElement("div", {
                className: r.container
            }, s.createElement("div", {
                className: r.leftSlot
            }, t), s.createElement("div", {
                className: n(r.rightSlot, o && r.rightSlotSeparator)
            }, i))
        }
    }
    ,
    2606: (e, t, i) => {
        "use strict";
        i.d(t, {
            isDetailsReady: () => s
        });
        const s = new (i(978296).WatchedValue)(!1)
    }
    ,
    576792: (e, t, i) => {
        "use strict";
        i.d(t, {
            showPortfolioDialog: () => n
        });
        var s = i(306388);
        function n(e) {
            const {url: t, ...n} = e;
            Promise.all([Promise.all([i.e(38824), i.e(65857), i.e(36010), i.e(73399), i.e(78794), i.e(48012), i.e(53953), i.e(49742), i.e(45621), i.e(29258), i.e(62564), i.e(77280), i.e(29296), i.e(22164), i.e(95083), i.e(58985), i.e(28101), i.e(88488), i.e(72197), i.e(59258), i.e(82421), i.e(16190), i.e(62215), i.e(67158), i.e(21199), i.e(32175), i.e(70203), i.e(39963), i.e(74600), i.e(85758), i.e(16356), i.e(40528), i.e(70125), i.e(93222), i.e(30358), i.e(97384), i.e(3782), i.e(49162), i.e(7462), i.e(13427), i.e(52753), i.e(46879), i.e(43362), i.e(18488), i.e(53565), i.e(80774), i.e(49325), i.e(79874), i.e(17175), i.e(59372), i.e(39967), i.e(92069), i.e(87445), i.e(29145), i.e(65891), i.e(86819), i.e(49395), i.e(85440), i.e(75754), i.e(90146), i.e(3488), i.e(29511), i.e(93873), i.e(82114), i.e(79473), i.e(90908), i.e(76409), i.e(31057), i.e(43766), i.e(61207), i.e(70045), i.e(88947), i.e(28296), i.e(31154), i.e(71628), i.e(37659), i.e(50077), i.e(65114), i.e(8880), i.e(99553), i.e(5465), i.e(97218), i.e(19370)]).then(i.bind(i, 695369)), (0,
            s.initSymbolListService)(), t]).then(( ([e,t,i]) => {
                e.portfolioDialogRenderer({
                    ...n,
                    service: t,
                    url: i
                })
            }
            ))
        }
    }
    ,
    440498: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            DELETED_SYMBOLS_LIST_ID: () => r,
            DeletedSymbolsList: () => d,
            isDeletedSymbolsList: () => c
        });
        var s = i(49437)
          , n = i(738600);
        const o = "deleted_symbols_list"
          , a = "is_deleted_symbols_list_active"
          , r = "deleted_symbols_list_id"
          , l = "There was an error during attempt to set local storage value"
          , c = e => e === r;
        class d {
            constructor() {
                this._logError = (e, t) => {
                    e instanceof Error ? n.logger.logError(e.message) : n.logger.logError(t)
                }
            }
            createList(e) {
                this._setList(e)
            }
            removeList() {
                try {
                    s.TVLocalStorage.removeItem(o)
                } catch (e) {
                    this._logError(e, "There was an error during local storage item removal")
                }
            }
            addSymbols(e) {
                const t = this.getList();
                if (!t)
                    return;
                const i = new Set(t.symbols);
                for (const t of e)
                    i.add(t);
                const s = Array.from(i);
                s.length > 100 ? t.symbols = s.reverse().slice(0, 100).reverse() : t.symbols = s,
                this._setList(t)
            }
            removeSymbols(e) {
                const t = this.getList();
                if (!t)
                    return;
                const i = new Set(t.symbols);
                for (const t of e)
                    i.delete(t);
                t.symbols = Array.from(i),
                this._setList(t)
            }
            replaceSymbols(e) {
                const t = this.getList();
                t && (t.symbols = e,
                this._setList(t))
            }
            getIsActive() {
                try {
                    return "true" === s.TVLocalStorage.getItem(a)
                } catch (e) {
                    return this._logError(e, l),
                    !1
                }
            }
            setIsActive(e) {
                try {
                    s.TVLocalStorage.setItem(a, String(e))
                } catch (e) {
                    this._logError(e, l)
                }
            }
            getList() {
                try {
                    const e = s.TVLocalStorage.getItem(o);
                    return e ? JSON.parse(e) : null
                } catch (e) {
                    return this._logError(e, "There was an error during attempt to get local storage value"),
                    null
                }
            }
            _setList(e) {
                try {
                    s.TVLocalStorage.setItem(o, JSON.stringify(e))
                } catch (e) {
                    this._logError(e, l)
                }
            }
        }
    }
    ,
    738600: (e, t, i) => {
        "use strict";
        i.d(t, {
            logger: () => s
        });
        const s = (0,
        i(735566).getLogger)("Platform.Model.Watchlist")
    }
    ,
    410803: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            watchListSaga: () => P
        });
        var s = i(129885)
          , n = i(746212)
          , o = i(84281)
          , a = i(650151)
          , r = i(173701)
          , l = i(942634);
        class c extends r.BrokerService {
            constructor(e) {
                super(e, "PositionsWatcher"),
                this.positionsUpdate = new l.Delegate,
                this._symbols = [],
                this._symbolPositions = {}
            }
            positions(e) {
                return -1 !== this._symbols.indexOf(e) ? this._symbolPositions[e] : []
            }
            setSymbols(e) {
                const t = Object.keys(this._symbolPositions);
                this._symbols.forEach((i => {
                    -1 === e.indexOf(i) && -1 !== t.indexOf(i) && delete this._symbolPositions[i]
                }
                ));
                const i = [];
                e.forEach((e => {
                    -1 === this._symbols.indexOf(e) && (i.push(e),
                    this._symbolPositions[e] = [])
                }
                )),
                this._symbols = e,
                i.length && this._requestPositions(i)
            }
            stopService() {
                this._clearPositions();
                (0,
                a.ensure)(this.activeBroker()).positionUpdate.unsubscribe(this, this._positionUpdate)
            }
            startService() {
                this._symbols && this._requestPositions(this._symbols);
                (0,
                a.ensure)(this.activeBroker()).positionUpdate.subscribe(this, this._positionUpdate)
            }
            _clearPositions() {
                Object.keys(this._symbolPositions).forEach((e => {
                    this._symbolPositions[e].length && (this._symbolPositions[e] = [],
                    this.positionsUpdate.fire(e, []))
                }
                ))
            }
            _positionUpdate(e) {
                const t = e.symbol;
                if (-1 === this._symbols.indexOf(t))
                    return;
                const i = this._symbolPositions[t]
                  , s = i.reduce(( (t, i, s) => i.id === e.id ? s : t), -1)
                  , n = 0 === e.qty;
                -1 !== s && n ? i.splice(s, 1) : -1 !== s || n ? i[s] = e : i.push(e),
                this.positionsUpdate.fire(t, i)
            }
            _requestPositions(e) {
                const t = this.activeBroker();
                t && e.length && t.positions().then((t => {
                    t.forEach((t => {
                        -1 !== e.indexOf(t.symbol) && this._positionUpdate(t)
                    }
                    ))
                }
                ))
            }
        }
        var d = i(850935)
          , u = i(291676)
          , h = i(456746)
          , m = i(738600);
        function *_(e) {
            const t = (i = e,
            (0,
            n.eventChannel)((e => {
                const t = {};
                return i.positionsUpdate.subscribe(t, ( (t, i) => {
                    const [s] = i;
                    e((0,
                    d.updatePosition)(t, s ? (0,
                    h.toPositionRecord)(s) : void 0))
                }
                )),
                () => i.positionsUpdate.unsubscribeAll(t)
            }
            )));
            var i;
            try {
                for (; ; ) {
                    const e = yield(0,
                    s.take)(t)
                      , i = (0,
                    u.positionSelector)(yield(0,
                    s.select)(), e.symbol);
                    (!i || !e.position || e.position && i.side !== e.position.side) && (yield(0,
                    s.put)(e))
                }
            } finally {
                t.close()
            }
        }
        function *g(e) {
            const t = yield(0,
            s.call)(o.waitTradingService)
              , i = new c(t);
            yield(0,
            s.fork)(_, i);
            let n = null;
            function *a() {
                const t = (0,
                u.getCurrentViewableListByWidgetId)(yield(0,
                s.select)(), e);
                if (n !== t) {
                    const e = null === t ? [] : t.symbols;
                    m.logger.logNormal(`Setting watched positions: ${e}`),
                    i.setSymbols(e);
                    const o = {};
                    for (const t of e) {
                        const [e] = i.positions(t);
                        o[t] = e ? (0,
                        h.toPositionRecord)(e) : void 0
                    }
                    yield(0,
                    s.put)((0,
                    d.updateBulkPositions)(o)),
                    n = t
                }
            }
            yield(0,
            s.call)(a),
            yield(0,
            s.takeEvery)("*", a)
        }
        var p = i(189086)
          , b = i(826939)
          , v = i(303670)
          , y = i(583912)
          , S = i(38506)
          , f = i(214168)
          , w = i(436779)
          , C = i(958613)
          , E = i(217525);
        function *k() {
            yield(0,
            s.takeLatest)(p.INIT_WIDGET, (function*(e) {
                yield(0,
                s.call)(I)
            }
            ))
        }
        function *L() {
            yield(0,
            s.takeLatest)(E.SET_IS_AUTHENTICATED, (function*() {
                yield(0,
                s.call)(I)
            }
            ))
        }
        function *I() {
            const e = (0,
            u.getGlobalActiveID)(yield(0,
            s.select)());
            null === e && (yield(0,
            s.put)((0,
            f.asAction)((0,
            S.getActiveWatchlistThunk)(null)))),
            yield(0,
            s.put)((0,
            d.updateWidget)(b.WATCHLIST_WIDGET_ID, {
                listId: e
            }));
            const t = y.linking.proSymbol.value();
            t && (yield(0,
            s.put)((0,
            d.updateWidget)(b.WATCHLIST_WIDGET_ID, {
                scrollToId: {
                    id: t
                }
            })))
        }
        function *T() {
            let e = (0,
            u.getGlobalActiveID)(yield(0,
            s.select)());
            for (; ; ) {
                yield(0,
                s.take)("*");
                const t = (0,
                u.getGlobalActiveID)(yield(0,
                s.select)());
                if (e !== t) {
                    e = t,
                    yield(0,
                    s.put)((0,
                    d.updateWidget)(b.WATCHLIST_WIDGET_ID, {
                        listId: t,
                        selectedSymbols: []
                    }));
                    {
                        const e = (0,
                        C.isHotListId)(t);
                        yield(0,
                        s.put)((0,
                        d.updateWidgetOptions)(b.WATCHLIST_WIDGET_ID, {
                            isDeletable: !e,
                            isSortable: !e,
                            isMovable: !e
                        }))
                    }
                }
            }
        }
        function *W() {
            yield(0,
            s.takeEvery)(p.UPDATE_WIDGET, x),
            yield(0,
            s.takeEvery)(p.UPDATE_WIDGET_OPTIONS, M)
        }
        function *x(e) {
            const t = new v.WatchlistWidgetViewState;
            void 0 !== e.widget.columns && (t.setColumns(e.widget.columns),
            (0,
            w.expandWatchlist)()),
            void 0 !== e.widget.tickerType && ((0,
            w.setInitialTickerType)(e.widget.tickerType),
            (0,
            w.expandWatchlist)())
        }
        function *M(e) {
            const t = new v.WatchlistWidgetViewState;
            void 0 !== e.options.isLogoEnabled && (t.setIsLogoEnabled(e.options.isLogoEnabled),
            (0,
            w.expandWatchlist)()),
            void 0 !== e.options.isTableView && (t.setIsTableView(e.options.isTableView),
            (0,
            w.expandWatchlist)())
        }
        var A = i(301852)
          , D = i(638456)
          , B = i(627207);
        function *P(e) {
            yield(0,
            s.fork)(k),
            yield(0,
            s.fork)(T),
            yield(0,
            s.fork)(B.updateHotlistsByTimer, b.WATCHLIST_WIDGET_ID),
            yield(0,
            s.fork)(B.sortHotlistsByTimer, b.WATCHLIST_WIDGET_ID),
            yield(0,
            s.fork)(A.watchSelectAllSymbols, b.WATCHLIST_WIDGET_ID),
            yield(0,
            s.fork)(A.watchShowContextMenu, b.WATCHLIST_WIDGET_ID, e),
            yield(0,
            s.fork)(A.watchActiveSymbol, b.WATCHLIST_WIDGET_ID),
            yield(0,
            s.fork)(A.watchSelectNextAvailableSymbol, e),
            (0,
            D.onWidget)() || (yield(0,
            s.fork)(g, b.WATCHLIST_WIDGET_ID),
            yield(0,
            s.fork)(L)),
            yield(0,
            s.fork)(W)
        }
    }
    ,
    940789: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            WatchList: () => V
        });
        var s = i(743766)
          , n = i(406047)
          , o = i(50959)
          , a = i(650151)
          , r = i(444372)
          , l = i(436779)
          , c = i(470316)
          , d = i(303576)
          , u = i(345848)
          , h = i(586450)
          , m = i(456746)
          , _ = i(750639)
          , g = i(286749)
          , p = i(78480)
          , b = i(385923);
        function v(e) {
            const {item: t} = e
              , i = "colored" === t.type
              , s = (0,
            o.useRef)(null);
            return (0,
            p.useUiMarker)(s, i ? t.color : null, b.flag),
            o.createElement("div", {
                ref: s
            })
        }
        var y = i(38506)
          , S = i(370846)
          , f = i(291676)
          , w = i(244692)
          , C = i(826939)
          , E = i(732611);
        const k = (0,
        s.connect)((function() {
            const e = (e, t) => t.favorites.map((t => {
                switch (t.type) {
                case "color":
                    return (0,
                    S.getMarkedListByColor)(e, t.id);
                case "custom":
                    return (0,
                    f.getCustomListById)(e, t.id);
                case "hot":
                    return {
                        ...t,
                        name: (0,
                        E.getHotlistShortTitle)(t.group),
                        tooltip: (0,
                        E.getHotlistTitle)(t.exchange, t.group)
                    }
                }
            }
            )).filter((e => null !== e))
              , t = (e, t) => {
                const i = (0,
                f.getCurrentViewableListByWidgetId)(e, t);
                return null === i ? null : {
                    id: i.id
                }
            }
            ;
            return (i, s) => ({
                favorites: e(i, s),
                current: t(i, C.WATCHLIST_WIDGET_ID)
            })
        }
        ), (function(e) {
            const t = {
                getWatchLists: () => (0,
                y.getCustomWatchlistsThunk)(null),
                selectList: w.selectSymbolListThunk
            };
            return (0,
            n.bindActionCreators)(t, e)
        }
        ))((function(e) {
            const {getWatchLists: t, favorites: i, current: s, selectList: n} = e;
            if ((0,
            o.useEffect)(( () => {
                t()
            }
            ), []),
            !i?.length)
                return null;
            const a = i.filter((e => "custom" === e.type || "colored" === e.type))
              , r = i.filter((e => "hot" === e.type));
            return o.createElement(g.Toolbar, {
                orientation: "horizontal",
                className: b.container,
                blurOnEscKeydown: !1
            }, [a, r].reduce(( (e, t, i, n) => (n.some(( (e, t) => e.length > 0 && t < i)) && t.length > 0 && e.push(o.createElement("span", {
                key: "separator-" + i,
                className: b.divider
            })),
            e.push(...t.map((e => o.createElement(_.FavoriteItem, {
                key: e.id,
                item: e,
                isActive: e.id === s?.id,
                onApply: l
            }, "colored" === e.type ? o.createElement(v, {
                item: e
            }) : null)))),
            e)), []));
            function l(e) {
                switch (e.type) {
                case "hot":
                    n(null, {
                        id: e.id,
                        type: "hot",
                        exchange: e.exchange,
                        group: e.group
                    });
                    break;
                case "colored":
                    n(null, {
                        id: e.color,
                        type: "color"
                    });
                    break;
                case "custom":
                    n(null, {
                        id: e.id,
                        type: "custom"
                    })
                }
                (0,
                u.trackEvent)("Watchlist", "Change watch", "Favorites")
            }
        }
        ));
        var L = i(561430)
          , I = i(958613)
          , T = i(325173)
          , W = i(918989)
          , x = i(842530);
        function M(e, t) {
            return Boolean(t[e])
        }
        function A(e) {
            return new Map(e.map(( (e, t) => [e, t])))
        }
        function D(e, t) {
            return new Map(e.map(( (i, s) => {
                if (!(0,
                m.isValidSeparatorItem)(i))
                    return 3;
                if (M(i, t))
                    return 2;
                const n = s < e.length - 1 && (0,
                m.isValidSeparatorItem)(e[s + 1])
                  , o = s === e.length - 1;
                return n || o ? 0 : 1
            }
            )).map(( (t, i) => [e[i], t])))
        }
        var B = i(850935)
          , P = i(452528);
        const V = (0,
        s.connect)((function() {
            const e = []
              , t = (t, i) => {
                const s = (0,
                f.getCurrentViewableListByWidgetId)(t, i);
                return null === s ? e : s.symbols
            }
              , i = (e, t) => (0,
            P.displaySymbolsSelector)(e, t)
              , s = (e, t) => (0,
            P.getCurrentViewableCollapsedSeparatorsSelector)(e, t);
            return (e, n) => ({
                symbols: t(e, n.widgetId),
                displaySymbols: i(e, n.widgetId),
                collapsedSeparatorsState: s(e, n.widgetId),
                current: (0,
                f.getCurrentViewableListByWidgetId)(e, n.widgetId)
            })
        }
        ), (function(e) {
            return (0,
            n.bindActionCreators)({
                reorderSymbols: w.reorderSymbolsThunk,
                removeSelectedSymbols: w.removeSelectedSymbolsThunk,
                markSymbol: w.markSymbolsThunk,
                selectAllSymbols: B.selectAllSymbols
            }, e)
        }
        ))((function(e) {
            const {symbols: t, displaySymbols: s, collapsedSeparatorsState: n, reorderSymbols: _, widgetId: g, removeSelectedSymbols: p, markSymbol: b, selectAllSymbols: v, viewState: y, current: S, accessibleScope: f} = e
              , [w,C] = (0,
            o.useState)([])
              , E = (0,
            o.useRef)({
                displaySymbols: s,
                collapsedSeparatorsState: n,
                indexMap: A(s),
                itemTypeMap: D(s, n)
            });
            (0,
            o.useEffect)(( () => {
                let e;
                return C((0,
                L.favoritesService)().get()),
                e = e => {
                    C([...e])
                }
                ,
                (0,
                L.favoritesService)().getOnChange().subscribe(null, e),
                () => {
                    (0,
                    L.favoritesService)().getOnChange().unsubscribe(null, e)
                }
            }
            ), []),
            (0,
            o.useEffect)(( () => {
                E.current = {
                    displaySymbols: s,
                    collapsedSeparatorsState: n,
                    indexMap: A(s),
                    itemTypeMap: D(s, n)
                }
            }
            ), [s, n]);
            const B = Boolean(S && (0,
            I.isHotListId)(S.id));
            return o.createElement("div", {
                className: x.watchlist
            }, o.createElement(k, {
                favorites: w
            }), o.createElement("div", {
                className: x.list
            }, o.createElement(d.SymbolList, {
                widgetId: g,
                onMove: function(e) {
                    _(g, e[l.ROOT_ID].children)
                },
                onDrop: function(e) {
                    const {detail: {nodes: t}} = e;
                    t.length > 1 ? (0,
                    u.trackEvent)("Watchlist", "Multi select", "Drag") : (0,
                    u.trackEvent)("Watchlist", "Drag")
                },
                displaySymbols: s,
                allSymbols: t,
                onKeyDown: function(e) {
                    const t = (0,
                    c.hashFromEvent)(e);
                    46 !== t && 8 !== t || (e.preventDefault(),
                    p(g));
                    t === c.Modifiers.Alt + 13 && (e.preventDefault(),
                    (0,
                    h.runOrSigninWithFeature)(( () => b(g, void 0, void 0, !0)), {
                        feature: "flaggedSymbolsColors",
                        source: "Set symbol color"
                    }),
                    (0,
                    u.trackEvent)("Watchlist", "Alt+Enter"));
                    t === c.Modifiers.Mod + 65 && (e.preventDefault(),
                    v(g),
                    (0,
                    u.trackEvent)("Watchlist", "Ctrl+A"));
                    27 === t && (0,
                    u.trackEvent)("Watchlist", "Esc")
                },
                noSymbolsPlaceholder: B ? r.t(null, void 0, i(578799)) : r.t(null, void 0, i(109415)),
                icon: B ? T : W,
                viewState: y,
                canMove: function(e, t, i) {
                    0;
                    const {displaySymbols: s, collapsedSeparatorsState: n, indexMap: o, itemTypeMap: r} = E.current;
                    if ("inside" === i)
                        return !1;
                    const [,l,c,d] = [0, 1, 2, 3].map((t => e.some((e => r.get(e.id) === t))));
                    if (c && (l || d))
                        return !1;
                    if (c && !l && !d) {
                        const e = t.id;
                        if (M(e, n))
                            return !0;
                        const r = (0,
                        a.ensureDefined)(o.get(e));
                        if (r === s.length - 1 && "after" === i)
                            return !0;
                        return !(!(r < s.length - 1 && (0,
                        m.isValidSeparatorItem)(s[r + 1])) || "after" !== i) || (0,
                        m.isValidSeparatorItem)(e) && "before" === i
                    }
                    return !0
                },
                accessibleScope: f
            })))
        }
        ))
    }
    ,
    190012: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            Header: () => vt
        });
        var s = i(406047)
          , n = i(743766)
          , o = i(54068)
          , a = i(50959)
          , r = i(497754)
          , l = i.n(r)
          , c = i(650151)
          , d = i(444372)
          , u = i(456746)
          , h = i(634993)
          , m = i(608667)
          , _ = i(440498)
          , g = i(779923)
          , p = i(78480)
          , b = i(778785)
          , v = i(345848)
          , y = i(960466)
          , S = i(995683)
          , f = i(636268)
          , w = i(220274)
          , C = i(230435)
          , E = i(958613)
          , k = i(324295)
          , L = i(629319)
          , I = i(518174);
        const T = (0,
        S.mergeThemes)(h.DEFAULT_POPUP_MENU_ITEM_THEME, L)
          , W = (0,
        S.mergeThemes)(h.DEFAULT_POPUP_MENU_ITEM_THEME, I);
        var x = i(244692);
        const M = (0,
        n.connect)(null, {
            removeWatchList: x.removeSymbolListThunk,
            selectList: x.selectSymbolListThunk
        })((function(e) {
            const {className: t, watchList: s, selectList: n, removeWatchList: o, hideRemoveButton: r, isActive: u, isSmallSize: h, onSelect: S} = e
              , {size: L} = (0,
            a.useContext)(y.SizeContext)
              , {color: I=null} = s
              , x = s.symbols.length
              , M = (0,
            a.useRef)(null)
              , A = !r && null === I && !0;
            (0,
            p.useUiMarker)(M, I, k.flag);
            let D = s.name;
            return D || (D = null !== I ? (0,
            C.getColoredListTitle)(I) : d.t(null, void 0, i(512504))),
            a.createElement(m.AccessibleMenuItem, {
                key: s.id,
                theme: h ? W : T,
                className: l()(t, k.item, u && k.active, 1 === L && k.small, !A && k.countVisible),
                isActive: u,
                label: a.createElement("div", null, a.createElement("span", {
                    className: k.title,
                    ref: M
                }, a.createElement(w.LeadingEmojiText, {
                    text: D
                })), h && a.createElement("span", {
                    className: k.count
                }, d.t(null, {
                    plural: "{count} symbols",
                    count: x
                }, i(170352)))),
                toolbox: a.createElement(a.Fragment, null, A && a.createElement(f.RemoveButton, {
                    className: l()(k.removeButton, k.toolboxItem, b.touch && k.touch, h && k.small),
                    isActive: u,
                    onClick: function() {
                        const e = s.name || (0,
                        C.getColoredListTitle)((0,
                        c.ensureDefined)(s.color))
                          , t = d.t(null, void 0, i(930058)).format({
                            name: e
                        });
                        (0,
                        g.showConfirm)({
                            text: t,
                            onConfirm: async ({dialogClose: e}) => {
                                await o(s.id),
                                e()
                            }
                        }),
                        (0,
                        v.trackEvent)("Watchlist", "Popup menu", "Remove list")
                    }
                }), a.createElement("span", {
                    className: l()(k.toolboxCount, k.toolboxItem, (h || b.touch) && k.touch)
                }, x)),
                onClick: function() {
                    if (!u) {
                        if ("hot" === s.type && (0,
                        E.isHotListId)(s.id) && s.group && s.exchange)
                            n(null, {
                                id: s.id,
                                type: "hot",
                                group: s.group,
                                exchange: s.exchange
                            });
                        else if ("colored" === s.type)
                            n(null, {
                                id: s.color ?? s.id,
                                type: "color"
                            });
                        else {
                            if ("custom" !== s.type)
                                return;
                            n(null, {
                                id: s.id,
                                type: "custom"
                            })
                        }
                        S?.(),
                        (0,
                        v.trackEvent)("Watchlist", "Popup menu", "Change active list"),
                        (0,
                        _.isDeletedSymbolsList)(s.id) && (0,
                        v.trackEvent)("Watchlist", "Popup menu", "Deleted Symbols")
                    }
                }
            })
        }
        ));
        var A = i(93916)
          , D = i(377318)
          , B = i(673534)
          , P = i(436779);
        function V(e) {
            const {isLoading: t, list: i, current: s, isSmallSize: n, isReadonly: r, onSelect: l} = e
              , c = (0,
            a.useContext)(D.MenuContext);
            (0,
            a.useEffect)(( () => {
                c && c.update()
            }
            ), [i]);
            const d = []
              , u = []
              , h = [];
            for (const e of i)
                if (void 0 !== e.color) {
                    if (null !== s && e.id !== s.id && 0 === e.symbols.length && e.color !== o.ListColor.Red)
                        continue;
                    d.push(e)
                } else
                    (0,
                    _.isDeletedSymbolsList)(e.id) ? h.push(e) : u.push(e);
            u.sort(P.sortComparator);
            const m = [d, u];
            return h.length && m.push(h),
            a.createElement(a.Fragment, null, t && a.createElement(B.ToolWidgetMenuSpinner, null), !t && m.map(( (e, t, i) => e.length > 0 && a.createElement(a.Fragment, {
                key: t
            }, e.map((e => a.createElement(M, {
                key: e.id,
                watchList: e,
                isActive: null !== s && s.id === e.id,
                hideRemoveButton: 1 === u.length || r || (0,
                _.isDeletedSymbolsList)(e.id),
                isSmallSize: n,
                onSelect: l
            }))), t !== i.length - 1 && 0 !== e.length && a.createElement(A.PopupMenuSeparator, null)))))
        }
        var N = i(608435)
          , R = i(837657)
          , O = i(320116)
          , H = i(61103)
          , F = i(638456)
          , G = i(507458)
          , U = i(953297)
          , z = i(909591)
          , $ = i(547777)
          , q = i(120508)
          , j = i(704624)
          , Q = i(920389)
          , Z = i(18946)
          , K = i(583912)
          , J = i(63145)
          , Y = i(977022)
          , X = i(416293)
          , ee = i(305514)
          , te = i(668031)
          , ie = i(22206)
          , se = i(552279)
          , ne = i(98667)
          , oe = i(79205)
          , ae = i(599960)
          , re = i(36500)
          , le = i(472012)
          , ce = i(795394)
          , de = i(72368)
          , ue = i(576792)
          , he = i(591152)
          , me = i(570309)
          , _e = i(951806)
          , ge = i(899287)
          , pe = i(451608)
          , be = i(575816)
          , ve = i(355871);
        function ye(e) {
            const {widgetId: t, value: s, updateWidget: n} = e
              , {size: o} = (0,
            a.useContext)(y.SizeContext)
              , r = 1 === o;
            return a.createElement(pe.SwitchGroup, {
                name: "symbolDisplay",
                onChange: function(e) {
                    n(t, {
                        tickerType: e
                    })
                },
                values: s ? [s] : []
            }, a.createElement(ge.RadioButton, {
                className: l()(ve.radio, r && ve.mobile),
                value: be.TickerType.Ticker,
                label: d.t(null, void 0, i(905791))
            }), a.createElement(ge.RadioButton, {
                className: l()(ve.radio, r && ve.mobile),
                value: be.TickerType.Description,
                label: d.t(null, void 0, i(178734))
            }))
        }
        var Se = i(182120)
          , fe = i(949743);
        function we(e) {
            const {value: t, onChange: s} = e
              , {size: n} = (0,
            a.useContext)(y.SizeContext)
              , o = 1 === n;
            return a.createElement(Se.Checkbox, {
                className: l()(fe.checkbox, o && fe.mobile),
                name: "logo",
                label: d.t(null, void 0, i(314876)),
                checked: t,
                onChange: s
            })
        }
        var Ce = i(849414)
          , Ee = i(403473)
          , ke = i(370846)
          , Le = i(291676)
          , Ie = i(732611)
          , Te = i(561430)
          , We = i(3746)
          , xe = i(178517);
        function Me(e) {
            const {current: t, recent: i, handleClick: s, theme: n} = e
              , o = t?.id === i.id
              , r = "color" === i.type
              , l = (0,
            a.useRef)(null)
              , c = (0,
            _.isDeletedSymbolsList)(i.id)
              , d = (0,
            a.useMemo)(( () => (0,
            Te.getFavoriteItem)(i)), [i]);
            return (0,
            p.useUiMarker)(l, r ? i.color : null, xe.flag),
            a.createElement(m.AccessibleMenuItem, {
                theme: n,
                isActive: o,
                id: i.id,
                labelClassName: xe.label,
                label: a.createElement(a.Fragment, null, a.createElement(w.LeadingEmojiText, {
                    text: i.name ?? i.id
                }), r ? a.createElement("div", {
                    ref: l
                }) : null),
                showToolboxOnFocus: !0,
                showToolboxOnHover: !i.isFavorite,
                onClick: () => s(i),
                toolbox: c ? null : a.createElement(We.MenuFavoriteButton, {
                    isActive: o,
                    isFilled: i.isFavorite,
                    onClick: e => {
                        e.preventDefault(),
                        (0,
                        Te.favoritesService)().toggleFavorite(d)
                    }
                })
            })
        }
        var Ae = i(826939);
        const De = (0,
        n.connect)((function() {
            const e = (e, t) => {
                const i = (0,
                Le.getCurrentViewableListByWidgetId)(e, t);
                return null === i ? null : {
                    id: i.id
                }
            }
            ;
            return (t, i) => ({
                recents: i.recents.map((e => {
                    const s = !!i.favorites.find((t => t.id === e.id && t.type === e.type));
                    switch (e.type) {
                    case "color":
                        const i = (0,
                        ke.getMarkedListByColor)(t, e.id);
                        return i ? {
                            ...i,
                            type: e.type,
                            id: i.color,
                            isFavorite: s
                        } : null;
                    case "custom":
                        const n = (0,
                        Le.getCustomListById)(t, e.id);
                        return n ? {
                            ...n,
                            isFavorite: s
                        } : null;
                    case "hot":
                        return {
                            ...e,
                            name: (0,
                            Ie.getHotlistTitle)(e.exchange, e.group),
                            isFavorite: s
                        }
                    }
                }
                )).filter((e => null !== e)),
                current: e(t, Ae.WATCHLIST_WIDGET_ID)
            })
        }
        ), (function(e) {
            const t = {
                selectList: x.selectSymbolListThunk
            };
            return (0,
            s.bindActionCreators)(t, e)
        }
        ))((function(e) {
            const {recents: t, current: i, selectList: s, onSelectList: n, theme: o} = e;
            return a.createElement(a.Fragment, null, t.map((e => a.createElement(Me, {
                key: e.id,
                current: i,
                recent: e,
                handleClick: r,
                theme: o
            }))));
            function r(e) {
                s(null, e),
                n?.()
            }
        }
        ));
        var Be = i(729777)
          , Pe = i(591800)
          , Ve = i(399578)
          , Ne = i(87805)
          , Re = i(932757)
          , Oe = i(125226)
          , He = i(314898)
          , Fe = i(26829)
          , Ge = i(733764)
          , Ue = i(34767)
          , ze = i(845437)
          , $e = i(636296)
          , qe = i(748040)
          , je = i(323595)
          , Qe = i(808757)
          , Ze = i(133736)
          , Ke = i(776126)
          , Je = i(46857)
          , Ye = i(833366)
          , Xe = i(388140)
          , et = i(191854)
          , tt = i(29834)
          , it = i(57674)
          , st = i(889291)
          , nt = i(625923)
          , ot = i(611443)
          , at = i.n(ot)
          , rt = i(724669);
        const lt = (0,
        S.mergeThemes)(Z.WIDGETBAR_WIDGET_HEADER_DEFAULT_THEME, {
            leftSlot: rt.widgetbarWidgetHeaderLeftSlot,
            rightSlot: rt.widgetbarWidgetHeaderRightSlot
        })
          , ct = (0,
        de.canShowNewSymbolSearch)()
          , dt = (0,
        Oe.isFeatureEnabled)("alerts-on-watchlists-premium") || (0,
        Ne.isAlertsOnWatchlistsEnabled)()
          , ut = (0,
        S.mergeThemes)(me.DEFAULT_MENU_ITEM_SWITCHER_THEME, {
            label: rt.switcherMobileLabel
        })
          , ht = (0,
        S.mergeThemes)(h.DEFAULT_POPUP_MENU_ITEM_THEME, Ke)
          , mt = (0,
        S.mergeThemes)(h.DEFAULT_POPUP_MENU_ITEM_THEME, Je)
          , _t = (0,
        S.mergeThemes)(te.DEFAULT_TOOL_WIDGET_BUTTON_THEME, {
            text: rt.widgetBtnText,
            button: rt.widgetBtn,
            icon: rt.widgetBtnIcon
        });
        var gt = i(850935)
          , pt = i(570277)
          , bt = i(38506);
        const vt = (0,
        n.connect)((function() {
            const e = (e, t) => {
                const i = (0,
                Le.getCurrentViewableListByWidgetId)(e, t);
                return null === i ? null : "colored" === i.type ? {
                    type: i.type,
                    id: i.id,
                    name: i.name,
                    description: i.description,
                    symbols: i.symbols,
                    color: i.color,
                    shared: i.shared,
                    persistedState: i.persistedState
                } : "custom" === i.type ? {
                    type: i.type,
                    id: i.id,
                    name: i.name,
                    description: i.description,
                    symbols: i.symbols,
                    shared: i.shared,
                    persistedState: i.persistedState
                } : "hot" === i.type ? {
                    type: i.type,
                    id: i.id,
                    name: i.name,
                    description: null,
                    symbols: i.symbols,
                    shared: !1,
                    persistedState: null,
                    exchange: i.exchange,
                    group: i.group
                } : null
            }
              , t = e => {
                const t = [];
                {
                    const i = (0,
                    ie.getMarkedListsState)(e);
                    if (null !== i)
                        for (const e of o.LIST_COLORS) {
                            const s = i.lists.byColor[e];
                            void 0 !== s && t.push({
                                type: "colored",
                                id: s.color,
                                color: s.color,
                                symbols: s.symbols,
                                name: s.name,
                                description: s.description,
                                shared: s.shared
                            })
                        }
                }
                return t.push(...(0,
                Le.getCustomLists)(e)),
                t
            }
            ;
            return (i, s) => {
                const {enableAddSymbolsByAnon: n, shouldDisplaySymbolSearch: o, isDeletable: a, isLogoEnabled: r, isTableView: l} = (0,
                Le.widgetOptionsSelector)(i, s.widgetId);
                return {
                    isLoading: !(0,
                    Le.getIsReadyCustomLists)(i),
                    enableAddSymbolsByAnon: n,
                    shouldDisplaySymbolSearch: o,
                    isLogoEnabled: r,
                    isTableView: l,
                    list: t(i),
                    current: e(i, s.widgetId),
                    columns: (0,
                    Le.columnsSelector)(i, s.widgetId),
                    tickerType: (0,
                    Le.tickerTypeSelector)(i, s.widgetId),
                    isReadonly: !a
                }
            }
        }
        ), (function(e) {
            const t = {
                createNewWatchList: x.userCreateWatchlistThunk,
                saveListAs: x.saveListAsThunk,
                renameWatchList: x.renameSymbolListThunk,
                clearWatchList: x.clearSymbolListThunk,
                getWatchLists: () => (0,
                bt.getCustomWatchlistsThunk)(null),
                addSymbols: x.addSymbolsThunk,
                insertSymbolBefore: x.insertSymbolBeforeThunk,
                scrollToSymbol: x.findInWatchlistThunk,
                updateWidget: gt.updateWidget,
                updateWidgetOptions: gt.updateWidgetOptions
            };
            return (0,
            s.bindActionCreators)({
                ...t,
                shareList: pt.shareListThunk
            }, e)
        }
        ))((function(e) {
            const {isLoading: t, list: s, current: n, getWatchLists: l, createNewWatchList: h, saveListAs: b, enableAddSymbolsByAnon: S, shouldDisplaySymbolSearch: f, renameWatchList: E, clearWatchList: k, addSymbols: L, insertSymbolBefore: I, widgetId: T, isReadonly: W, scrollToSymbol: x, shareList: M, isLogoEnabled: D, isTableView: B} = e
              , {size: de} = (0,
            a.useContext)(y.SizeContext)
              , ge = (0,
            a.useContext)(O.CloseDelegateContext)
              , {setHideClose: pe} = (0,
            a.useContext)(z.DialogHeaderContext)
              , be = (0,
            a.useRef)(null)
              , [ve,Se] = (0,
            a.useState)(!1)
              , [fe,ke] = (0,
            a.useState)((0,
            Be.recentSymbolListsService)().get())
              , [Le,Ie] = (0,
            a.useState)((0,
            Te.favoritesService)().get())
              , We = (0,
            a.useRef)([])
              , xe = (0,
            a.useRef)(void 0)
              , Me = (0,
            a.useRef)(null);
            Me.current = function() {
                const e = We.current;
                We.current = [],
                xe.current = void 0;
                {
                    const e = n && n.color ? n.color : null;
                    if (!(null === e || (0,
                    ie.checkColorPermissions)(e)))
                        return
                }
                S ? At(e) : (0,
                Q.runOrSignInWithPromo)("watchList", {
                    source: "add symbol to watchlist"
                }, ( () => At(e)))
            }
            ;
            const [Ae,Oe] = (0,
            a.useState)(!1);
            (0,
            p.useUiMarker)(be, n?.color ?? null, rt.flag);
            const Ke = (0,
            Y.useHasAlertsChecker)(n?.persistedState?.id?.toString()).hasActiveAlerts
              , Je = (0,
            J.useImportWatchlist)(h)
              , ot = function() {
                const e = d.t(null, void 0, i(512504));
                if (!n)
                    return e;
                if (!n.name && n.color)
                    return (0,
                    C.getColoredListTitle)(n.color);
                return n.name || e
            }()
              , gt = 1 === de
              , pt = gt ? mt : ht
              , bt = (0,
            a.useMemo)(( () => {
                if (!fe.length)
                    return fe;
                const e = !!fe.find((e => "hot" !== e.type));
                return s.length && e ? fe.filter((e => "hot" === e.type || ("color" === e.type ? s.find((t => t.id === e.id && ((0,
                Te.favoritesService)().isFavorite(e) || n?.id === e.id || t.color === o.ListColor.Red || t.symbols.length > 0))) : Boolean(s.find((t => t.id === e.id && t.type === e.type)))))) : fe
            }
            ), [s, fe, Ae, n]);
            (0,
            a.useEffect)(( () => {
                const e = e => {
                    ke(e)
                }
                  , t = e => {
                    Ie(e)
                }
                ;
                return (0,
                Be.recentSymbolListsService)().getOnChange().subscribe(null, e),
                (0,
                Te.favoritesService)().getOnChange().subscribe(null, t),
                () => {
                    (0,
                    Be.recentSymbolListsService)().getOnChange().unsubscribe(null, e),
                    (0,
                    Te.favoritesService)().getOnChange().unsubscribe(null, t)
                }
            }
            ), []);
            const vt = (0,
            a.useRef)(null)
              , yt = (0,
            a.useRef)(null)
              , St = (0,
            a.useRef)(null);
            function ft() {
                n && M && window.runOrSignIn(( () => {
                    Dt("Share"),
                    M(n.id, !n.shared)
                }
                ), {
                    source: "share_watchlist"
                })
            }
            return (0,
            a.useEffect)(( () => {
                if (window.is_authenticated && n && !U.enabled("widget") && !(0,
                _.isDeletedSymbolsList)(n.id))
                    return vt.current = (0,
                    he.getOwnSharedList)(n.id).then(( ({id: e}) => new URL(`watchlists/${e}/`,window.location.origin).toString())),
                    () => {
                        vt.current = null
                    }
            }
            ), [n?.id]),
            a.createElement("div", {
                className: r(rt.container, gt && rt.mobile),
                onClick: function() {
                    Ae || gt || ge.fire()
                }
            }, a.createElement(H.Renamable, {
                name: ot,
                isRenaming: ve,
                onSubmit: function(e) {
                    Lt(!1),
                    null !== n && E(n.id, e)
                },
                onClose: function() {
                    Lt(!1)
                },
                maxLength: 128,
                emojiPicker: !0
            }, a.createElement(Z.WidgetbarWidgetHeader, {
                leftSlot: (0,
                F.onWidget)() ? a.createElement("div", {
                    className: rt.title
                }, d.t(null, void 0, i(512504)), Ke && a.createElement(oe.Icon, {
                    icon: et,
                    className: rt.alertIcon
                })) : a.createElement(a.Fragment, null, Ee.isMoveWatchlistActions ? a.createElement(N.HeaderMenu, {
                    className: r(gt && rt.mobileBtn),
                    onOpen: function() {
                        0;
                        Nt()
                    },
                    onClose: Rt,
                    menuClassName: rt.watchlistMenu,
                    content: a.createElement("div", {
                        className: rt.headerMenuContent
                    }, Pt()),
                    isDrawer: gt,
                    "data-name": "watchlists-button",
                    menuDataName: "active-watchlist-menu"
                }, Vt((function() {
                    let e;
                    e = [(0,
                    F.isSymphonyEmbed)() ? null : "share", "create-alert", "copy", "rename", "add-section", "clear", "separator", "create", U.enabled("watchlist_import_export") ? "import" : null, bt.length ? "separator" : null, bt.length ? "recents" : null, "separator", "open-list"];
                    return e.filter((e => null !== e))
                }
                ))) : a.createElement(te.ToolWidgetButton, {
                    "data-name": "watchlists-button",
                    className: r(gt && rt.mobileBtn),
                    onClick: Ct,
                    icon: a.createElement(X.ToolWidgetCaret, {
                        className: rt.caret,
                        dropped: !1
                    }),
                    theme: _t,
                    text: a.createElement(a.Fragment, null, Pt()),
                    textBeforeIcon: !0
                })),
                rightSlot: f && a.createElement("div", {
                    className: rt.buttonWrap
                }, W ? null : a.createElement(q.AccessibleIconButton, {
                    tooltip: d.t(null, void 0, i(218542)),
                    className: rt.headerButton,
                    icon: Ye,
                    onClick: function() {
                        (0,
                        j.showWatchlistSearchDialog)({
                            fullscreen: gt,
                            onSearchComplete: e => {
                                (0,
                                Q.runOrSignInWithPromo)("watchList", {
                                    source: "add symbol to watchlist"
                                }, ( () => {
                                    for (const t of e)
                                        Mt(t.symbol)
                                }
                                ))
                            }
                        }),
                        (0,
                        v.trackEvent)("GUI", "SS", "watchlist")
                    },
                    "data-name": "add-symbol-button",
                    "data-role": "button",
                    isDisabled: (0,
                    _.isDeletedSymbolsList)(n?.id) || W
                }), !W && a.createElement(q.AccessibleIconButton, {
                    tooltip: d.t(null, void 0, i(938434)),
                    className: rt.headerButton,
                    icon: st,
                    onClick: function() {
                        null !== n && (Ae && ge.fire(),
                        (0,
                        ue.showPortfolioDialog)({
                            url: vt.current,
                            list: n
                        }),
                        (0,
                        v.trackEvent)("Watchlist", "Advanced view"))
                    },
                    "data-name": "advanced-view-button"
                }), ct && (Ee.isMoveWatchlistActions && !gt || !Ee.isMoveWatchlistActions) && a.createElement(ne.AccessibleMenuButton, {
                    ref: St,
                    className: r(rt.headerButton, null === n && rt.disabled),
                    menuClassName: rt.settingsMenu,
                    arrow: !1,
                    content: a.createElement(oe.Icon, {
                        icon: tt
                    }),
                    isDrawer: gt,
                    drawerPosition: "Bottom",
                    isDisabled: null === n,
                    onOpen: Nt,
                    onClose: Rt,
                    isShowTooltip: !0,
                    tooltip: d.t(null, void 0, i(232514)),
                    horizontalDropDirection: le.HorizontalDropDirection.FromRightToLeft,
                    horizontalAttachEdge: le.HorizontalAttachEdge.Right,
                    "data-name": "settings-button",
                    menuDataName: "watchlists-settings-menu"
                }, a.createElement("div", {
                    className: rt.menuWrap
                }, Vt((function() {
                    let e = ["tableview"];
                    Ee.isMoveWatchlistActions || (e = [(0,
                    F.isSymphonyEmbed)() ? null : "share", "separator", "create-alert", "copy", "rename", null, null, "clear", "add-section", gt || U.enabled("widget") ? null : "separator", gt || U.enabled("widget") ? null : "tableview"]);
                    return e.filter((e => null !== e))
                }
                )), B && (Ee.isMoveWatchlistActions || !gt) && a.createElement(a.Fragment, null, a.createElement(A.PopupMenuSeparator, null), a.createElement(re.ToolWidgetMenuSummary, {
                    className: rt.columnsTitle
                }, d.t(null, void 0, i(918939))), a.createElement(ae.ColumnsMenuContent, {
                    widgetId: T,
                    columns: e.columns,
                    updateWidget: e.updateWidget
                }), a.createElement(A.PopupMenuSeparator, null), a.createElement(a.Fragment, null, a.createElement(re.ToolWidgetMenuSummary, {
                    className: rt.columnsTitle
                }, d.t(null, void 0, i(166584))), !U.enabled("widget") && a.createElement(we, {
                    value: D,
                    onChange: function() {
                        e.updateWidgetOptions(T, {
                            isLogoEnabled: !D
                        })
                    }
                }), a.createElement(ye, {
                    widgetId: T,
                    value: e.tickerType,
                    updateWidget: e.updateWidget
                })))))),
                withRightSlotSeparator: gt,
                theme: lt
            })));
            function wt() {
                U.enabled("watchlist_import_export") && ((0,
                se.runOrGoPro)((function() {
                    const {name: e, color: t, symbols: i} = (0,
                    c.ensureNotNull)(n)
                      , s = e || t || "watchlist";
                    (0,
                    P.exportList)(s, i)
                }
                ), "EXPORT_WATCHLISTS", {
                    feature: "exportWatchlist",
                    featureLocation: "exportWatchlist"
                }),
                Dt("Export list"))
            }
            function Ct() {
                ge.fire(),
                (0,
                ee.showWatchListsDialog)()
            }
            function Et() {
                null !== n && ((0,
                g.showConfirm)({
                    text: d.t(null, void 0, i(624439)),
                    onConfirm: ({dialogClose: e}) => {
                        k(n.id),
                        e()
                    }
                }),
                Dt("Clear list"))
            }
            function kt() {
                n && (0,
                Q.runOrSignIn)(( () => {
                    const e = K.linking.symbol.value()
                      , t = Boolean(n.symbols.find((t => t === e)))
                      , i = (0,
                    u.buildUniqueName)(n.symbols.filter(R.isSeparatorItem), (0,
                    u.convertToSeparatorName)("SECTION"));
                    t ? (I(T, e, i),
                    x(T, i)) : Mt(i),
                    gt && ge.fire()
                }
                ), {
                    source: "Add new section"
                })
            }
            function Lt(e) {
                Se(e),
                pe(e)
            }
            function It() {
                var e, t;
                e = () => Lt(!0),
                t = "Rename watch list",
                (0,
                Q.runOrSignIn)(e, {
                    source: t
                }),
                Dt("Rename")
            }
            function Tt() {
                xt(( () => b(e.widgetId, Promise.resolve((0,
                c.ensureNotNull)(n).symbols))), "saveAs"),
                Dt("Make a copy")
            }
            function Wt() {
                ge.fire(),
                xt(( () => h(null)), "new"),
                Dt("Create new list")
            }
            function xt(e, t) {
                (0,
                se.runOrGoPro)(e, "MULTIPLE_WATCHLISTS", {
                    feature: "multipleWatchLists",
                    featureLocation: t
                })
            }
            function Mt(e) {
                We.current.push(e),
                xe.current || (xe.current = setTimeout(( () => {
                    null !== Me.current && Me.current()
                }
                ), 0))
            }
            function At(e) {
                (0,
                ce.resolveSymbolNameForAllDistinct)(e).then((e => {
                    L(T, e)
                }
                ))
            }
            function Dt(e) {
                (0,
                v.trackEvent)("Watchlist", "Popup menu", e)
            }
            function Bt() {
                const e = vt.current;
                null !== e && (Dt("Copy link"),
                e.then((e => (0,
                G.getClipboard)().writeText(e).then(( () => {
                    yt.current && ((0,
                    Ce.showTooltip)(yt.current, {
                        initialDelay: 0,
                        leaveOnMouseOut: !0
                    }),
                    (0,
                    Ce.debounceHideTooltip)())
                }
                )))))
            }
            function Pt() {
                return a.createElement(a.Fragment, null, a.createElement("span", {
                    ref: be
                }), a.createElement("span", {
                    className: r(rt.titleRow)
                }, a.createElement(w.LeadingEmojiText, {
                    text: ot
                })), Ke && a.createElement(oe.Icon, {
                    icon: et,
                    className: rt.alertIcon
                }), W ? a.createElement(oe.Icon, {
                    icon: at(),
                    className: rt.lockIcon
                }) : null)
            }
            function Vt(e) {
                const o = e();
                return o.length ? a.createElement(a.Fragment, null, o.map(( (e, o) => function(e, o) {
                    if (!n)
                        return null;
                    const l = e + o;
                    switch (e) {
                    case "create":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: ze,
                            label: (0,
                            $.appendEllipsis)(d.t(null, void 0, i(222556))),
                            onClick: Wt
                        });
                    case "recents":
                        return a.createElement("div", {
                            key: e
                        }, a.createElement(re.ToolWidgetMenuSummary, {
                            className: r(rt.columnsTitle, gt && rt.small)
                        }, d.t(null, void 0, i(907448))), a.createElement(De, {
                            recents: bt,
                            favorites: Le,
                            onSelectList: gt ? () => ge.fire() : void 0,
                            theme: pt
                        }));
                    case "add-section":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: Xe,
                            label: d.t(null, void 0, i(598104)),
                            onClick: kt,
                            isDisabled: (0,
                            _.isDeletedSymbolsList)(n.id) || W
                        });
                    case "clear":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: Ze,
                            label: d.t(null, void 0, i(798450)),
                            onClick: Et,
                            isDisabled: W
                        });
                    case "import":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: je,
                            label: (0,
                            $.appendEllipsis)(d.t(null, void 0, i(795754))),
                            onClick: Je
                        });
                    case "export":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: ht,
                            icon: Qe,
                            label: d.t(null, void 0, i(352321)),
                            onClick: wt
                        });
                    case "copy":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: $e,
                            label: (0,
                            $.appendEllipsis)(d.t(null, void 0, i(340115))),
                            onClick: Tt
                        });
                    case "share":
                        return a.createElement(a.Fragment, {
                            key: e
                        }, a.createElement(me.MenuItemSwitcher, {
                            checked: Boolean(n.shared),
                            label: d.t(null, void 0, i(984239)),
                            value: "share-switcher",
                            onChange: ft,
                            theme: gt ? ut : void 0,
                            disabled: (0,
                            _.isDeletedSymbolsList)(n.id) || W
                        }), n.shared && a.createElement(_e.CopyLabel, {
                            onClick: Bt,
                            ref: yt
                        }));
                    case "rename":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: qe,
                            label: d.t(null, void 0, i(606321)),
                            onClick: It,
                            isDisabled: (0,
                            _.isDeletedSymbolsList)(n.id) || W
                        });
                    case "open-list":
                        return a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: it,
                            label: (0,
                            $.appendEllipsis)(d.t(null, void 0, i(545362))),
                            onClick: Ct,
                            shortcut: (0,
                            Pe.humanReadableHash)(Pe.Modifiers.Shift + 87)
                        });
                    case "separator":
                        return a.createElement(A.PopupMenuSeparator, {
                            key: l
                        });
                    case "watchlists":
                        return a.createElement(V, {
                            key: e,
                            isLoading: t,
                            list: s,
                            current: n,
                            isSmallSize: gt,
                            isReadonly: W,
                            onSelect: gt ? () => ge.fire() : void 0
                        });
                    case "tableview":
                        return a.createElement(me.MenuItemSwitcher, {
                            key: e,
                            checked: B,
                            label: d.t(null, void 0, i(770542)),
                            value: "table-view-switcher",
                            onChange: Ot,
                            theme: gt ? ut : void 0
                        });
                    case "create-alert":
                        return !dt || window.is_authenticated && "number" != typeof n.persistedState?.id ? null : a.createElement(m.AccessibleMenuItem, {
                            key: e,
                            theme: pt,
                            icon: nt,
                            label: (0,
                            $.appendEllipsis)(d.t(null, void 0, i(439281))),
                            toolbox: a.createElement(Ve.BadgeNew, null),
                            onClick: Ht
                        })
                    }
                }(e, o)))) : null
            }
            function Nt() {
                Oe(!0)
            }
            function Rt() {
                Oe(!1)
            }
            function Ot(t) {
                e.updateWidgetOptions(T, {
                    isTableView: t
                }),
                St.current?.update(),
                Dt(t ? "Table view on" : "Table view off")
            }
            function Ht() {
                if (!(0,
                Ne.isAlertsOnWatchlistsEnabled)())
                    return void (0,
                    Re.showGoProNoWatchlistAlertPermissionDialog)();
                const e = n?.persistedState?.id;
                if (void 0 === e)
                    return;
                const t = (0,
                Fe.chartWidgetCollectionService)()
                  , i = t?.activeChartWidget.value().model();
                (0,
                Ue.trackAlertCreationAttempt)((0,
                Ge.convertToWatchlistSymbol)(String(e)), "add_on_watchlist_btn", "widget"),
                (0,
                He.invokeAlertEditor)({
                    dataSourceHub: i,
                    type: "create_alert",
                    watchlistId: String(e),
                    method: "add_on_watchlist_btn",
                    source: "widget"
                })
            }
        }
        ))
    }
    ,
    303670: (e, t, i) => {
        "use strict";
        i.d(t, {
            WatchlistWidgetViewState: () => r
        });
        var s = i(49437)
          , n = i(953297);
        const o = ["short_name", "last_price", "change", "change_percent"]
          , a = ["short_name", "last_price", "change_percent"];
        class r {
            getColumns() {
                if (n.enabled("widget"))
                    return a;
                const e = s.TVLocalStorage.getItem("widget.watchlist.view-state");
                return this._parse(e) || o
            }
            setColumns(e) {
                n.enabled("widget") || (null === e ? s.TVLocalStorage.removeItem("widget.watchlist.view-state") : s.TVLocalStorage.setItem("widget.watchlist.view-state", JSON.stringify(this._normalize(e))))
            }
            canResizeColumns() {
                return !n.enabled("widget")
            }
            getIsLogoEnabled() {
                const e = s.TVLocalStorage.getItem("widget.watchlist.logo-enabled");
                return !e || ("true" === e || !1)
            }
            setIsLogoEnabled(e) {
                s.TVLocalStorage.setItem("widget.watchlist.logo-enabled", String(e))
            }
            getIsTableView() {
                const e = s.TVLocalStorage.getItem("widget.watchlist.table-view");
                return !e || ("true" === e || !1)
            }
            setIsTableView(e) {
                s.TVLocalStorage.setItem("widget.watchlist.table-view", String(e))
            }
            getColumnsPercentages() {
                if (!this.canResizeColumns())
                    return null;
                const e = s.TVLocalStorage.getItem("widget.watchlist.columns-percentages");
                return null === e ? null : new Map(JSON.parse(e))
            }
            saveColumnsPercentages(e) {
                if (!this.canResizeColumns())
                    return;
                const t = JSON.stringify(Array.from(e));
                s.TVLocalStorage.setItem("widget.watchlist.columns-percentages", t)
            }
            _parse(e) {
                if (null === e)
                    return null;
                try {
                    const t = JSON.parse(e);
                    return Array.isArray(t) ? this._normalize(t) : null
                } catch (e) {
                    return null
                }
            }
            _normalize(e) {
                const t = e.filter((e => "string" == typeof e))
                  , i = new Set(t)
                  , s = new Set(["short_name", "volume", "last_price", "change", "change_percent", "rchp"]);
                return Array.from(i).filter((e => s.has(e)))
            }
        }
    }
    ,
    920389: (e, t, i) => {
        "use strict";
        i.d(t, {
            runOrSignIn: () => a,
            runOrSignInWithPromo: () => r
        });
        var s = i(953297)
          , n = i(586450);
        const o = s.enabled("widget");
        function a(e, t) {
            o ? e() : window.runOrSignIn(e, t)
        }
        function r(e, t, i) {
            o ? i() : (0,
            n.runOrSigninWithFeature)(i, {
                ...t,
                feature: e
            })
        }
    }
    ,
    305514: (e, t, i) => {
        "use strict";
        i.d(t, {
            showWatchListsDialog: () => a
        });
        var s = i(999138);
        let n;
        class o extends s.DialogRenderer {
            constructor() {
                super(...arguments),
                this._dialog = null,
                this._subscribe = e => {
                    this._setVisibility(e)
                }
            }
            show(e) {
                this._load().then((t => t.show(e)))
            }
            hide() {
                this._dialog?.hide(),
                this._dialog?.visible().unsubscribe(this._subscribe)
            }
            static getInstance() {
                return n || (n = new o),
                n
            }
            async _load() {
                const e = await Promise.all([i.e(26473), i.e(46445), i.e(93703), i.e(49481), i.e(75816), i.e(44524), i.e(21356), i.e(78794), i.e(48012), i.e(53953), i.e(62093), i.e(4752), i.e(2520), i.e(29800), i.e(45621), i.e(62564), i.e(46489), i.e(25480), i.e(99325), i.e(23141), i.e(77476), i.e(95083), i.e(88488), i.e(75826), i.e(72197), i.e(59258), i.e(82421), i.e(62215), i.e(67158), i.e(32175), i.e(70203), i.e(39963), i.e(74600), i.e(21251), i.e(88015), i.e(98734), i.e(93523), i.e(50632), i.e(78687), i.e(49325), i.e(14876), i.e(59470), i.e(94106), i.e(39967), i.e(44066), i.e(25375), i.e(15440), i.e(601), i.e(5463), i.e(65891), i.e(16828), i.e(7572), i.e(43386), i.e(49279), i.e(83410), i.e(11858), i.e(12366), i.e(32227), i.e(50030), i.e(87473), i.e(43766), i.e(5483), i.e(58678), i.e(73143), i.e(54499), i.e(28575), i.e(28189), i.e(38506), i.e(46356), i.e(50134), i.e(69959), i.e(96677), i.e(57945)]).then(i.bind(i, 429964));
                return this._dialog?.hide(),
                this._dialog?.visible().unsubscribe(this._subscribe),
                this._dialog = e.watchlistsDialogRenderer(),
                this._dialog.visible().subscribe(this._subscribe),
                this._dialog
            }
        }
        function a(e) {
            o.getInstance().show(e)
        }
    }
    ,
    399578: (e, t, i) => {
        "use strict";
        i.d(t, {
            BadgeNew: () => r
        });
        var s = i(50959)
          , n = i(497754)
          , o = i(377454)
          , a = i(509449);
        function r(e) {
            const {size: t, className: i} = e;
            return s.createElement(o.Badge, {
                size: t ?? o.BadgeSize.XSmall,
                className: n(a.badgeNew, i)
            }, "NEW")
        }
    }
    ,
    526448: e => {
        e.exports = {
            accessible: "accessible-NQERJsv9",
            active: "active-NQERJsv9"
        }
    }
    ,
    371580: e => {
        e.exports = {
            copyLink: "copyLink-ue0pvX52",
            copyLinkMobile: "copyLinkMobile-ue0pvX52",
            accessibleLabel: "accessibleLabel-ue0pvX52"
        }
    }
    ,
    166114: e => {
        e.exports = {
            item: "item-KMkDzD5K",
            accessible: "accessible-KMkDzD5K",
            round: "round-KMkDzD5K",
            active: "active-KMkDzD5K"
        }
    }
    ,
    189888: e => {
        e.exports = {
            button: "button-LkmyTVRc",
            active: "active-LkmyTVRc"
        }
    }
    ,
    828473: (e, t, i) => {
        "use strict";
        i.d(t, {
            compareTwoCollectionsByIds: () => v,
            compareTwoPrimitiveValuesArrays: () => y,
            compareTwoPrimitiveValuesRecords: () => S,
            findFirst: () => p,
            indexOf: () => b,
            intersect: () => m,
            join: () => _,
            lowerbound: () => a,
            lowerboundExt: () => o,
            mapEntriesGenerator: () => w,
            moveAfter: () => u,
            moveBefore: () => h,
            moveToHead: () => d,
            nestedMapGenerator: () => C,
            removeItemFromArray: () => g,
            subtract: () => c,
            sum: () => f,
            upperbound: () => l
        });
        var s = i(650151);
        function n(e, t) {
            return e < t
        }
        function o(e, t, i, s, n) {
            let o = n - s;
            for (; 0 < o; ) {
                const n = o >> 1
                  , a = s + n;
                i(e(a), t) ? (s = a + 1,
                o -= n + 1) : o = n
            }
            return s
        }
        function a(e, t, i, s=0, n=e.length) {
            return o((t => e[t]), t, i, s, n)
        }
        function r(e, t, i=0, s=e.length) {
            return a(e, t, n, i, s)
        }
        function l(e, t, i, s=0, n=e.length) {
            let o = n - s;
            for (; 0 < o; ) {
                const n = o >> 1
                  , a = s + n;
                i(t, e[a]) ? o = n : (s = a + 1,
                o -= n + 1)
            }
            return s
        }
        function c(e, t) {
            return e.filter((e => !t.includes(e)))
        }
        function d(e, t) {
            const i = e.indexOf(t);
            return i < 0 ? e.slice() : [t].concat(e.slice(0, i)).concat(e.slice(i + 1))
        }
        function u(e, t, i) {
            const s = new Set(t)
              , n = []
              , o = []
              , a = [];
            return e.forEach(( (e, t) => {
                s.has(e) ? o.push(e) : (n.push(e),
                a.push(t))
            }
            )),
            i = i < e.length - 1 ? r(a, i + 1) : n.length,
            n.splice(i, 0, ...o),
            {
                newItems: n,
                movedItemsStartIndex: i
            }
        }
        function h(e, t, i) {
            const s = new Set(t)
              , n = []
              , o = []
              , a = [];
            return e.forEach(( (e, t) => {
                s.has(e) ? o.push(e) : (n.push(e),
                a.push(t))
            }
            )),
            i = i <= e.length - 1 ? r(a, i) : n.length,
            n.splice(i, 0, ...o),
            {
                newItems: n,
                movedItemsStartIndex: i
            }
        }
        function m(e, t) {
            const i = new Set;
            return e.forEach((e => {
                t.has(e) && i.add(e)
            }
            )),
            i
        }
        function _(e, t) {
            const i = new Set(e);
            return t.forEach((e => i.add(e))),
            i
        }
        function g(e, t) {
            const i = e.indexOf(t);
            (0,
            s.assert)(-1 !== i, "Item is not found"),
            e.splice(i, 1)
        }
        function p(e, t) {
            for (const i of e)
                if (t(i))
                    return i;
            return null
        }
        function b(e, t) {
            for (let i = 0; i < e.length; i++)
                if (t(e[i]))
                    return i;
            return -1
        }
        function v(e, t) {
            if (e.length !== t.length)
                return !1;
            for (let i = 0; i < e.length; ++i)
                if (e[i].id() !== t[i].id())
                    return !1;
            return !0
        }
        function y(e, t) {
            if (e.length !== t.length)
                return !1;
            for (let i = 0; i < e.length; i++)
                if (e[i] !== t[i])
                    return !1;
            return !0
        }
        function S(e, t) {
            const i = Object.keys(e)
              , s = Object.keys(t);
            if (i.length !== s.length)
                return !1;
            if (!y(i, s))
                return !1;
            for (const s of i)
                if (e[s] !== t[s])
                    return !1;
            return !0
        }
        function f(e) {
            return e.reduce(( (e, t) => e + t), 0)
        }
        function *w(e) {
            for (const [t,i] of e)
                yield[t, i]
        }
        function *C(e, t) {
            for (const [i,s] of e)
                if (void 0 === t)
                    for (const [,e] of s)
                        yield[i, e];
                else {
                    const e = s.get(t);
                    void 0 !== e && (yield[i, e])
                }
        }
    }
    ,
    608667: (e, t, i) => {
        "use strict";
        i.d(t, {
            AccessibleMenuItem: () => d
        });
        var s = i(50959)
          , n = i(497754)
          , o = i.n(n)
          , a = i(591800)
          , r = i(263361)
          , l = i(634993)
          , c = i(526448);
        function d(e) {
            const {className: t, ...i} = e
              , [n,d] = (0,
            r.useRovingTabindexElement)(null);
            return s.createElement(l.PopupMenuItem, {
                ...i,
                className: o()(c.accessible, e.isActive && c.active, t),
                reference: n,
                tabIndex: d,
                onKeyDown: function(e) {
                    if (e.target !== e.currentTarget)
                        return;
                    const t = (0,
                    a.hashFromEvent)(e);
                    13 !== t && 32 !== t || (e.preventDefault(),
                    n.current instanceof HTMLElement && n.current.click())
                },
                "data-role": "menuitem",
                "aria-disabled": e.isDisabled || void 0,
                toolboxRole: "toolbar"
            })
        }
    }
    ,
    951806: (e, t, i) => {
        "use strict";
        i.d(t, {
            CopyLabel: () => c
        });
        var s = i(50959)
          , n = i(497754)
          , o = i(266621)
          , a = i(263361)
          , r = i(591800)
          , l = i(371580);
        const c = (0,
        s.forwardRef)(( (e, t) => {
            const {role: c, isSmall: d, onClick: u} = e
              , [h,m] = (0,
            a.useRovingTabindexElement)(t);
            return s.createElement("div", {
                ref: h,
                role: c,
                className: n(l.copyLink, d && l.copyLinkMobile, l.accessibleLabel),
                onClick: u,
                tabIndex: m,
                onKeyDown: function(e) {
                    if (e.target !== e.currentTarget)
                        return;
                    const t = (0,
                    r.hashFromEvent)(e);
                    13 !== t && 32 !== t || (e.preventDefault(),
                    h.current instanceof HTMLElement && h.current.click())
                },
                "data-role": "menuitem"
            }, o.t(null, void 0, i(181939)))
        }
        ))
    }
    ,
    750639: (e, t, i) => {
        "use strict";
        i.d(t, {
            FavoriteItem: () => d
        });
        var s = i(50959)
          , n = i(497754)
          , o = i(591800)
          , a = i(263361)
          , r = i(641078)
          , l = i(220274)
          , c = i(166114);
        function d(e) {
            const {className: t, children: i, item: d, onApply: u, isActive: h, href: m, target: _} = e
              , g = d.name ?? " "
              , [p,b] = (0,
            a.useRovingTabindexElement)(null)
              , v = m ? "a" : u ? "button" : "div"
              , y = d.tooltip ?? g
              , S = (0,
            r.getLeadingEmojiHtml)(y);
            return s.createElement(v, {
                ref: p,
                type: u && !m ? "button" : void 0,
                className: n(t, c.item, c.accessible, "apply-common-tooltip", "common-tooltip-html"),
                onClick: function(e) {
                    if (e.stopPropagation(),
                    u && m) {
                        if ((0,
                        o.modifiersFromEvent)(e) !== o.Modifiers.None || 1 === e.button)
                            return;
                        e.preventDefault()
                    }
                    u?.(d)
                },
                onKeyDown: "a" === v ? function(e) {
                    32 === (0,
                    o.hashFromEvent)(e) && (e.preventDefault(),
                    p.current?.click())
                }
                : void 0,
                "data-tooltip": S,
                "aria-label": y,
                tabIndex: b,
                href: "a" === v ? m : void 0,
                target: "a" === v ? _ : void 0
            }, s.createElement("div", {
                className: n(c.round, h && c.active)
            }, i || s.createElement(l.LeadingEmojiText, {
                text: g,
                firstSegmentOnly: !0
            })))
        }
    }
    ,
    3746: (e, t, i) => {
        "use strict";
        i.d(t, {
            MenuFavoriteButton: () => d
        });
        var s = i(50959)
          , n = i(497754)
          , o = i.n(n)
          , a = i(263361)
          , r = i(852668)
          , l = i(589379)
          , c = i(189888);
        function d(e) {
            const {onClick: t, isFilled: i, isActive: n, ...d} = e
              , [u,h] = (0,
            a.useRovingTabindexElement)(null)
              , m = i ? l.removeTitlesMap[l.RemoveTitleType.Remove] : l.removeTitlesMap[l.RemoveTitleType.Add];
            return (0,
            s.useLayoutEffect)(( () => {
                const e = u.current;
                e instanceof HTMLElement && e.dispatchEvent(new CustomEvent("common-tooltip-update"))
            }
            ), [m, u]),
            s.createElement("button", {
                ref: u,
                tabIndex: h,
                onClick: t,
                className: o()(c.button, n && c.active, "apply-common-tooltip"),
                type: "button",
                "aria-label": m,
                "data-tooltip": m
            }, s.createElement(r.FavoriteButton, {
                ...d,
                isFilled: i,
                isActive: n,
                title: ""
            }))
        }
    }
    ,
    501292: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            Action: () => l,
            Loader: () => d,
            Separator: () => c
        });
        var s = i(650151)
          , n = i(470316)
          , o = i(79342)
          , a = i(942634);
        class r extends a.Delegate {
            constructor(e) {
                super(),
                this._onStartListening = null,
                this._onStopListening = null,
                this._onStartListening = e || null
            }
            subscribe(e, t, i) {
                const s = 0 === this._listeners.length;
                super.subscribe(e, t, i),
                s && this._listeners.length > 0 && this._onStartListening && (this._onStopListening = this._onStartListening())
            }
            unsubscribe(e, t) {
                const i = 0 === this._listeners.length;
                super.unsubscribe(e, t),
                !i && 0 === this._listeners.length && this._onStopListening && (this._onStopListening(),
                this._onStopListening = null)
            }
            unsubscribeAll(e) {
                const t = 0 === this._listeners.length;
                super.unsubscribeAll(e),
                !t && 0 === this._listeners.length && this._onStopListening && (this._onStopListening(),
                this._onStopListening = null)
            }
            destroy() {
                this._onStopListening && (this._onStopListening(),
                this._onStopListening = null),
                super.destroy()
            }
        }
        class l {
            constructor(e) {
                this.type = "action",
                this._destroyed = !1,
                this._loadOptionsPromise = null,
                this._customAction = null;
                const {actionId: t, options: i, optionsLoader: n, customActionOptions: a, customActionOptionsLoader: c, id: d=o.guid(), onStartListening: u} = e;
                (0,
                s.assert)(void 0 !== t, "actionId must be defined"),
                this.id = d,
                this._onUpdate = new r(u),
                this._options = {
                    actionId: t,
                    ...i
                },
                this.update(i),
                this._loadOptionsGetter = n ?? null,
                this._loadOptionsGetter && (this._options.loading = !0),
                a && (this._customAction = new l({
                    actionId: t,
                    options: a,
                    optionsLoader: c,
                    id: d
                }))
            }
            custom() {
                return this._customAction
            }
            execute() {
                this._options.checkable && this.update({
                    checked: !this._options.checked
                }),
                this._options.onExecute && this._options.onExecute(this)
            }
            getLabel() {
                return this._options.label || ""
            }
            getSubItems() {
                return this._options.subItems || []
            }
            isDisabled() {
                return !0 === this._options.disabled
            }
            isActive() {
                return !0 === this._options.active
            }
            isCheckable() {
                return !0 === this._options.checkable
            }
            isChecked() {
                return !0 === this._options.checked
            }
            isLoading() {
                return !0 === this._options.loading
            }
            loadOptions() {
                return this._loadOptionsPromise ? this._loadOptionsPromise : this._loadOptionsGetter ? (this._loadOptionsPromise = this._loadOptionsGetter().then((e => this.update({
                    ...e,
                    loading: !1
                }))),
                this._loadOptionsPromise) : null
            }
            getSize() {
                return this._options.size ?? "normal"
            }
            getPayload() {
                return this._options.payload
            }
            update(e) {
                this._destroyed || (this._unbindShortcut(),
                e.hotkeyHash && (this._options.shortcutHint = (0,
                n.humanReadableHash)(e.hotkeyHash)),
                this._options = Object.assign(this._options, e),
                this._bindShortcut(),
                this._onUpdate.fire(this))
            }
            onUpdate() {
                return this._onUpdate
            }
            getState() {
                return this.loadOptions(),
                {
                    actionId: this._options.actionId,
                    label: this.getLabel(),
                    styledLabel: this._options.styledLabel,
                    disabled: this.isDisabled(),
                    active: this.isActive(),
                    subItems: this.getSubItems(),
                    checkable: this.isCheckable(),
                    checked: this.isChecked(),
                    loading: this.isLoading(),
                    size: this.getSize(),
                    doNotCloseOnClick: this._options.doNotCloseOnClick || !1,
                    shortcutHint: this._options.shortcutHint,
                    hint: this._options.hint,
                    icon: this._options.icon,
                    iconId: this._options.iconId,
                    iconChecked: this._options.iconChecked,
                    toolbox: this._options.toolbox,
                    showToolboxOnHover: this._options.showToolboxOnHover || !1,
                    statName: this._options.statName,
                    name: this._options.name,
                    invisibleHotkey: this._options.invisibleHotkey,
                    noInteractive: this._options.noInteractive,
                    jsxLabel: "jsxLabel"in this._options ? this._options.jsxLabel : void 0,
                    isRepeatAccepted: this._options.isRepeatAccepted
                }
            }
            destroy() {
                this._destroyed = !0,
                this._onUpdate.destroy(),
                this._unbindShortcut(),
                this._options.onDestroy?.(),
                this._customAction?.destroy()
            }
            options() {
                return this._options
            }
            _bindShortcut() {
                if (!this._options.hotkeyGroup || !this._options.hotkeyHash)
                    return;
                const e = "string" == typeof this._options.label ? this._options.label : this._options.name;
                this._hotkeyAction = this._options.hotkeyGroup.add({
                    hotkey: this._options.hotkeyHash,
                    isRepeatAccepted: this._options.isRepeatAccepted,
                    desc: e,
                    handler: () => this.execute(),
                    isDisabled: () => this.isDisabled()
                })
            }
            _unbindShortcut() {
                this._hotkeyAction && (this._hotkeyAction.destroy(),
                delete this._hotkeyAction)
            }
        }
        class c {
            constructor(e) {
                this.type = "separator",
                this.id = o.guid(),
                this._hint = e
            }
            getHint() {
                return this._hint
            }
        }
        class d extends l {
            constructor(e) {
                super({
                    actionId: e,
                    options: {}
                })
            }
            isLoading() {
                return !0
            }
            getSize() {
                return "big"
            }
        }
    }
    ,
    314898: (e, t, i) => {
        "use strict";
        i.d(t, {
            invokeAlertEditor: () => l
        });
        var s = i(650151)
          , n = i(966837)
          , o = i(735566)
          , a = i(843698);
        const r = (0,
        o.getLogger)("Alerts.Price.InvokeAlertEditor");
        async function l(e) {
            const [{getAlertsTrackers: t},{getAlertDialogType: n, shouldAbortAlertEditor: o, showAbortExplainingDialog: l},{lockEditorInvocation: d}] = await Promise.all([i.e(95063).then(i.bind(i, 163171)), Promise.all([i.e(47529), i.e(99592), i.e(46445), i.e(93703), i.e(49481), i.e(75816), i.e(65857), i.e(36010), i.e(73399), i.e(44524), i.e(21356), i.e(78794), i.e(48012), i.e(53953), i.e(62093), i.e(4752), i.e(2520), i.e(29800), i.e(29258), i.e(62564), i.e(25480), i.e(29296), i.e(23141), i.e(95083), i.e(58985), i.e(62234), i.e(88488), i.e(74729), i.e(59258), i.e(82421), i.e(32175), i.e(39963), i.e(22106), i.e(16356), i.e(3062), i.e(30422), i.e(49478), i.e(26773), i.e(21251), i.e(19136), i.e(91797), i.e(93222), i.e(60736), i.e(16809), i.e(30358), i.e(23407), i.e(31234), i.e(43362), i.e(35365), i.e(50632), i.e(78687), i.e(80089), i.e(25983), i.e(14876), i.e(13752), i.e(33828), i.e(32277), i.e(46170), i.e(86893), i.e(51021), i.e(44323), i.e(50210), i.e(38790), i.e(64530), i.e(27353), i.e(32227), i.e(47793), i.e(50030), i.e(19217), i.e(27446), i.e(40425), i.e(70045), i.e(90223), i.e(28296), i.e(54499), i.e(60434), i.e(28575), i.e(83660), i.e(15212), i.e(38056), i.e(26035), i.e(50723), i.e(88689), i.e(79323), i.e(87448), i.e(5055), i.e(95747), i.e(54218), i.e(80783), i.e(80670), i.e(77895)]).then(i.bind(i, 32790)), Promise.all([i.e(47529), i.e(99592), i.e(46445), i.e(93703), i.e(49481), i.e(75816), i.e(65857), i.e(36010), i.e(73399), i.e(44524), i.e(21356), i.e(78794), i.e(48012), i.e(53953), i.e(62093), i.e(4752), i.e(2520), i.e(29800), i.e(29258), i.e(62564), i.e(25480), i.e(29296), i.e(23141), i.e(95083), i.e(58985), i.e(62234), i.e(88488), i.e(74729), i.e(59258), i.e(82421), i.e(32175), i.e(39963), i.e(22106), i.e(16356), i.e(3062), i.e(30422), i.e(49478), i.e(26773), i.e(21251), i.e(19136), i.e(91797), i.e(93222), i.e(60736), i.e(16809), i.e(30358), i.e(23407), i.e(31234), i.e(43362), i.e(35365), i.e(50632), i.e(78687), i.e(80089), i.e(25983), i.e(14876), i.e(13752), i.e(33828), i.e(32277), i.e(46170), i.e(86893), i.e(51021), i.e(44323), i.e(50210), i.e(38790), i.e(64530), i.e(27353), i.e(32227), i.e(47793), i.e(50030), i.e(19217), i.e(27446), i.e(40425), i.e(70045), i.e(90223), i.e(28296), i.e(54499), i.e(60434), i.e(28575), i.e(83660), i.e(15212), i.e(38056), i.e(26035), i.e(50723), i.e(88689), i.e(79323), i.e(87448), i.e(5055), i.e(95747), i.e(54218), i.e(80783), i.e(80670), i.e(77895)]).then(i.bind(i, 763181))])
              , u = t().maintenance;
            u.syncOnUserAction();
            const h = o(e, u);
            if (null !== h)
                return h !== a.AlertEditorAbortReason.IsAlreadyPresent && l(h, n(e)),
                r.logWarn(`Aborted: ${h}`),
                void e.onAborted?.(h);
            const [m,_] = d(e);
            try {
                const [{getAlertSession: t},{invokeDialogAlertEditor: n, invokeSilentAlertEditor: o, convertOptionsForSilentInvoker: a, convertOptionsForDialogInvoker: r},l] = await Promise.all([Promise.all([i.e(94251), i.e(55848)]).then(i.bind(i, 785821)), Promise.all([i.e(47529), i.e(99592), i.e(46445), i.e(93703), i.e(49481), i.e(75816), i.e(65857), i.e(36010), i.e(73399), i.e(44524), i.e(21356), i.e(78794), i.e(48012), i.e(53953), i.e(62093), i.e(4752), i.e(2520), i.e(29800), i.e(29258), i.e(62564), i.e(25480), i.e(29296), i.e(23141), i.e(95083), i.e(58985), i.e(62234), i.e(88488), i.e(74729), i.e(59258), i.e(82421), i.e(32175), i.e(39963), i.e(22106), i.e(16356), i.e(3062), i.e(30422), i.e(49478), i.e(26773), i.e(21251), i.e(19136), i.e(91797), i.e(93222), i.e(60736), i.e(16809), i.e(30358), i.e(23407), i.e(31234), i.e(43362), i.e(35365), i.e(50632), i.e(78687), i.e(80089), i.e(25983), i.e(14876), i.e(13752), i.e(33828), i.e(32277), i.e(46170), i.e(86893), i.e(51021), i.e(44323), i.e(50210), i.e(38790), i.e(64530), i.e(27353), i.e(32227), i.e(47793), i.e(50030), i.e(19217), i.e(27446), i.e(40425), i.e(70045), i.e(90223), i.e(28296), i.e(54499), i.e(60434), i.e(28575), i.e(83660), i.e(15212), i.e(38056), i.e(26035), i.e(50723), i.e(88689), i.e(79323), i.e(87448), i.e(5055), i.e(95747), i.e(54218), i.e(80783), i.e(80670), i.e(77895)]).then(i.bind(i, 145741)), c(_)])
                  , d = (0,
                s.ensureNotNull)(t().user.value());
                e.silent ? o(a(l), d) : n(r(l), d)
            } catch (e) {
                m()
            }
        }
        async function c(e) {
            const t = {
                ...e
            };
            return t.series && !await (0,
            n.hasUserAccessToDataSource)(t.series) && (delete t.series,
            delete t.value),
            t
        }
    }
    ,
    621452: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            ContextMenuManager: () => s
        });
        var s, n = i(828473), o = i(501292), a = i(224743);
        !function(e) {
            let t = null
              , s = null;
            const r = []
              , l = {
                createAction: e => new o.Action({
                    actionId: "Chart.CustomActionId",
                    options: e
                }),
                createAsyncAction: e => new o.Action({
                    actionId: "Chart.CustomActionId",
                    options: {},
                    optionsLoader: e
                }),
                createSeparator: () => new o.Separator
            };
            async function c(e, o={}, a={
                menuName: ""
            }, c) {
                null !== t && (e = await t(e, l, a));
                let u = null;
                const h = () => {
                    const e = (0,
                    n.indexOf)(r, (e => e.renderer === u));
                    -1 !== e && r.splice(e, 1),
                    void 0 !== c && c()
                }
                ;
                let m = !1;
                if (null !== s && (u = await s(e, a, h)),
                u)
                    m = !0,
                    d();
                else {
                    const t = await Promise.all([i.e(19966), i.e(53953), i.e(29800), i.e(46489), i.e(23141), i.e(75826), i.e(7001), i.e(71329), i.e(44066), i.e(5463), i.e(1198), i.e(32227), i.e(91584)]).then(i.bind(i, 977957));
                    u = new t.ContextMenuRenderer(e,o,h,d)
                }
                return r.push({
                    renderer: u,
                    isExternal: m
                }),
                u
            }
            function d() {
                (0,
                a.globalCloseMenu)(),
                r.forEach((e => {
                    e.isExternal && e.renderer.isShown() && e.renderer.hide()
                }
                ))
            }
            e.createMenu = c,
            e.showMenu = function(e, t, i={}, s, n) {
                return c(e, i, s, n).then((e => e.show(t)))
            }
            ,
            e.setCustomRendererFactory = function(e) {
                s = e
            }
            ,
            e.setCustomItemsProcessor = function(e) {
                t = e
            }
            ,
            e.hideAll = d,
            e.getShown = function() {
                for (let e = 0; e < r.length; e++)
                    if (r[e].renderer.isShown())
                        return r[e].renderer;
                return null
            }
        }(s || (s = {}))
    }
    ,
    999138: (e, t, i) => {
        "use strict";
        i.d(t, {
            DialogRenderer: () => n
        });
        var s = i(978296);
        class n {
            constructor() {
                this._container = document.createElement("div"),
                this._visibility = new s.WatchedValue(!1),
                this._rootInstance = null
            }
            visible() {
                return this._visibility.readonly()
            }
            _setVisibility(e) {
                this._visibility.setValue(e)
            }
        }
    }
    ,
    173701: (e, t, i) => {
        "use strict";
        i.d(t, {
            BrokerService: () => n
        });
        var s = i(650151);
        class n {
            constructor(e, t) {
                this._activeBroker = null,
                this._trading = e,
                this._serviceName = t,
                this._trading.onConnectionStatusChange.subscribe(this, this._onStatusChange),
                this._onStatusChange(this._trading.connectStatus())
            }
            destroy() {
                this.stopService(),
                this._trading.onConnectionStatusChange.unsubscribeAll(this)
            }
            activeBroker() {
                return this._activeBroker
            }
            trading() {
                return this._trading
            }
            _stopService() {
                this.stopService();
                const e = (0,
                s.ensureNotNull)(this._activeBroker, "activeBroker");
                switch (e.currentAccountUpdate.unsubscribeAll(this),
                this._serviceName) {
                case "PositionsService":
                case "PositionsWatcher":
                    e.positionsFullUpdate.unsubscribe(this, this._restartService),
                    e.individualPositionsFullUpdate.unsubscribe(this, this._restartService);
                    break;
                case "OrdersService":
                    e.ordersFullUpdate.unsubscribe(this, this._restartService)
                }
            }
            _startService() {
                this.startService();
                const e = (0,
                s.ensureNotNull)(this._activeBroker, "activeBroker");
                switch (e.currentAccountUpdate.subscribe(this, this._onCurrentAccountUpdate),
                this._serviceName) {
                case "PositionsService":
                case "PositionsWatcher":
                    e.positionsFullUpdate.subscribe(this, this._restartService),
                    e.individualPositionsFullUpdate.subscribe(this, this._restartService);
                    break;
                case "OrdersService":
                    e.ordersFullUpdate.subscribe(this, this._restartService)
                }
            }
            _onStatusChange(e) {
                const t = this._trading.activeBroker();
                this._activeBroker === t && 1 === e || (null !== this._activeBroker && (this._stopService(),
                this._activeBroker = null),
                null !== t && 1 === e && (this._activeBroker = t,
                this._startService(),
                this._lastAccountId = t.currentAccount()))
            }
            _restartService() {
                this.stopService(),
                this.startService()
            }
            _onCurrentAccountUpdate() {
                const e = (0,
                s.ensureNotNull)(this._activeBroker);
                this._lastAccountId !== e.currentAccount() && (this._restartService(),
                this._lastAccountId = e.currentAccount())
            }
        }
    }
    ,
    84281: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            TRADING_SERVICE: () => n,
            tradingService: () => o,
            waitTradingService: () => a
        });
        var s = i(564894);
        const n = {
            id: "TradingService"
        };
        function o() {
            return (0,
            s.hasService)(n) ? (0,
            s.service)(n) : null
        }
        function a() {
            return (0,
            s.waitServiceRegistered)(n)
        }
    }
    ,
    149109: (e, t, i) => {
        "use strict";
        i.d(t, {
            allChartStyles: () => o
        });
        var s = i(953297);
        const n = (0,
        i(638456).onWidget)();
        function o() {
            return function() {
                const e = [0, 1, 9, 13, 2, 14, 15, 3, 16, 10];
                return e.push(12),
                n || e.push(17),
                n || e.push(18),
                n || e.push(20),
                n || e.push(19),
                e
            }().concat(function() {
                const e = [8];
                return s.enabled("japanese_chart_styles") && (e.push(4, 7, 5, 6),
                e.push(11)),
                e
            }())
        }
    }
    ,
    246125: (e, t, i) => {
        "use strict";
        i.d(t, {
            availableDateFormats: () => f,
            dateFormatFunctions: () => y,
            defaultDateFormat: () => w,
            getDateFormatWithWeekday: () => S,
            getQuarter: () => l,
            monthFormatFunction: () => v,
            yyyy: () => b
        });
        var s = i(444372)
          , n = i(39654)
          , o = i(574313);
        const a = {
            1: () => s.t(null, void 0, i(562310)),
            2: () => s.t(null, void 0, i(302507)),
            3: () => s.t(null, void 0, i(92767)),
            4: () => s.t(null, void 0, i(227072)),
            5: () => s.t(null, {
                context: "short"
            }, i(13132)),
            6: () => s.t(null, void 0, i(800429)),
            7: () => s.t(null, void 0, i(853786)),
            8: () => s.t(null, void 0, i(546450)),
            9: () => s.t(null, void 0, i(806816)),
            10: () => s.t(null, void 0, i(912179)),
            11: () => s.t(null, void 0, i(526899)),
            12: () => s.t(null, void 0, i(532084))
        }
          , r = {
            1: () => s.t(null, void 0, i(914568)),
            2: () => s.t(null, void 0, i(913534)),
            3: () => s.t(null, void 0, i(914530)),
            4: () => s.t(null, void 0, i(903762))
        }
          , l = (e, t) => Math.floor((c(e, t) - 1) / 3) + 1
          , c = (e, t) => (t ? e.getMonth() : e.getUTCMonth()) + 1
          , d = (e, t) => t ? e.getFullYear() : e.getUTCFullYear()
          , u = e => e.toLocaleDateString(window.language ? (0,
        n.getIsoLanguageCodeFromLanguage)(window.language) : void 0, {
            weekday: "short",
            timeZone: "UTC"
        })
          , h = (e, t) => r[l(e, t)]()
          , m = (e, t) => (0,
        o.numberToStringWithLeadingZero)(( (e, t) => t ? e.getDate() : e.getUTCDate())(e, t), 2)
          , _ = (e, t) => a[c(e, t)]()
          , g = (e, t) => (0,
        o.numberToStringWithLeadingZero)(c(e, t), 2)
          , p = (e, t) => (0,
        o.numberToStringWithLeadingZero)(d(e, t) % 100, 2)
          , b = (e, t) => (0,
        o.numberToStringWithLeadingZero)(d(e, t), 4)
          , v = (e, t) => _(e, t)
          , y = {
            "qq 'yy": (e, t) => `${h(e, t)} '${p(e, t)}`,
            "qq yyyy": (e, t) => `${h(e, t)} ${b(e, t)}`,
            "dd MMM 'yy": (e, t) => `${m(e, t)} ${_(e, t)} '${p(e, t)}`,
            "MMM 'yy": (e, t) => `${_(e, t)} '${p(e, t)}`,
            "MMM dd, yyyy": (e, t) => `${_(e, t)} ${m(e, t)}, ${b(e, t)}`,
            "MMM yyyy": (e, t) => `${_(e, t)} ${b(e, t)}`,
            "MMM dd": (e, t) => `${_(e, t)} ${m(e, t)}`,
            "dd MMM": (e, t) => `${m(e, t)} ${_(e, t)}`,
            "yyyy-MM-dd": (e, t) => `${b(e, t)}-${g(e, t)}-${m(e, t)}`,
            "yy-MM-dd": (e, t) => `${p(e, t)}-${g(e, t)}-${m(e, t)}`,
            "yy/MM/dd": (e, t) => `${p(e, t)}/${g(e, t)}/${m(e, t)}`,
            "yyyy/MM/dd": (e, t) => `${b(e, t)}/${g(e, t)}/${m(e, t)}`,
            "dd-MM-yyyy": (e, t) => `${m(e, t)}-${g(e, t)}-${b(e, t)}`,
            "dd-MM-yy": (e, t) => `${m(e, t)}-${g(e, t)}-${p(e, t)}`,
            "dd/MM/yy": (e, t) => `${m(e, t)}/${g(e, t)}/${p(e, t)}`,
            "dd/MM/yyyy": (e, t) => `${m(e, t)}/${g(e, t)}/${b(e, t)}`,
            "MM/dd/yy": (e, t) => `${g(e, t)}/${m(e, t)}/${p(e, t)}`,
            "MM/dd/yyyy": (e, t) => `${g(e, t)}/${m(e, t)}/${b(e, t)}`
        };
        function S(e) {
            return "ja" === window.language ? (t, i) => `${y[e](t, i)} (${u(t)})` : (t, i) => `${u(t)} ${y[e](t, i)}`
        }
        const f = Object.keys(y)
          , w = () => -1 !== ["ja", "ko", "zh", "zh_TW"].indexOf(window.language || "") ? "yyyy-MM-dd" : "dd MMM 'yy"
    }
    ,
    34767: (e, t, i) => {
        "use strict";
        i.d(t, {
            trackAlertCreationAttempt: () => o
        });
        var s = i(776734)
          , n = i(749591);
        async function o(e, t, i) {
            const o = await (0,
            s.getTracker)();
            o?.trackAlertCreationEvent({
                symbol: e,
                method: t,
                source: i,
                action: "creation_attempt",
                platform: (0,
                n.getPlatform)()
            })
        }
    }
    ,
    749591: (e, t, i) => {
        "use strict";
        i.d(t, {
            getPlatform: () => o
        });
        var s = i(314802)
          , n = i(638456);
        function o() {
            return (0,
            n.isDesktopApp)() ? "desktop" : (0,
            s.isOnMobileAppPage)("old") ? "ios" : (0,
            s.isOnMobileAppPage)("new") ? "android" : "web"
        }
    }
    ,
    966837: (e, t, i) => {
        "use strict";
        function s(e) {
            return o().then((t => t.hasUserAccessToDataSource(e)))
        }
        function n(e) {
            return o().then((t => t.filterAccessibleDataSources(e)))
        }
        i.d(t, {
            filterAccessibleDataSources: () => n,
            hasUserAccessToDataSource: () => s
        });
        const o = () => Promise.all([i.e(83477), i.e(18633), i.e(47793), i.e(24377), i.e(83622), i.e(15212), i.e(50723), i.e(79323), i.e(83441)]).then(i.bind(i, 649994))
    }
    ,
    843698: (e, t, i) => {
        "use strict";
        var s;
        i.d(t, {
            AlertEditorAbortReason: () => s
        }),
        function(e) {
            e.AlertIsInvalid = "alert-is-invalid",
            e.AlertsMaintenance = "alerts-maintenance",
            e.ChartModelNotFound = "chart-model-not-found",
            e.IsAlreadyPresent = "is-already-present",
            e.MainSeriesIsATR = "main-series-is-atr",
            e.MainSeriesIsPercentageLTP = "main-series-is-percentage-ltp",
            e.MainSeriesIsInReplay = "main-series-is-in-replay",
            e.MainSeriesIsOffline = "main-series-is-offline",
            e.SourceIsDangerous = "source-is-dangerous",
            e.SymbolInfoTimeout = "symbol-info-timeout",
            e.SymbolIsInvalid = "symbol-is-invalid",
            e.SymbolCurrencyConverted = "symbol-currency-converted",
            e.SymbolUnitConverted = "symbol-unit-converted",
            e.SymbolCurrencyAndUnitConverted = "symbol-currency-and-unit-converted",
            e.SymbolIsEconomics = "symbol-is-economics",
            e.UnsupportedResolution = "unsupported-resolution",
            e.ManualAbort = "manual-abort",
            e.MisleadingPriceScale = "misleading-price-scale",
            e.ResolutionIsTicks = "resolution-is-ticks"
        }(s || (s = {}))
    }
    ,
    932757: (e, t, i) => {
        "use strict";
        i.d(t, {
            showGoProNoWatchlistAlertPermissionDialog: () => n
        });
        var s = i(590508);
        function n() {
            (0,
            s.createGoProDialog)({
                feature: "watchlistAlerts",
                customParams: "watchlist",
                forceUpgradeBtn: !0
            })
        }
    }
    ,
    257288: (e, t, i) => {
        "use strict";
        i.d(t, {
            getTranslatedSymbolDescription: () => o
        });
        var s = i(444372);
        function n(e) {
            const t = `#${e}-symbol-description`
              , n = s.t(t, void 0, i(956316));
            return n === t ? null : n
        }
        function o(e) {
            if (void 0 !== e.pro_name) {
                const t = n(e.pro_name);
                if (null !== t)
                    return t;
                if (void 0 !== e.short_name) {
                    const t = n(e.short_name);
                    if (null !== t)
                        return t
                }
            }
            return "en" !== e.language && void 0 !== e.local_description && e.language === window.language || "en" === e.language && void 0 !== e.local_description && e.language === window.language ? e.local_description : e.description || ""
        }
    }
    ,
    547777: (e, t, i) => {
        "use strict";
        function s(e) {
            return e + "…"
        }
        i.d(t, {
            appendEllipsis: () => s
        })
    }
    ,
    191854: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill="currentColor" d="M4.47 2.29 1.71 5.1l.62.6L5.1 2.88Zm7.06 0 2.76 2.82-.61.6-2.77-2.83Zm0 0"/><path fill="currentColor" d="M13.14 8.57a5.15 5.15 0 1 1-10.29 0 5.15 5.15 0 0 1 10.3 0Zm-5.43 0V5.71h.86v3.72H5.71v-.86Zm0 0" style="fill-rule:evenodd"/></svg>'
    }
    ,
    611443: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="currentColor"><path fill-rule="evenodd" d="M6 6a3 3 0 0 1 6 0v1H6V6ZM5 7V6a4 4 0 1 1 8 0v1a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2Zm3 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Z"/></svg>'
    }
    ,
    625923: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m19.54 4.5 3.96 4.32-.74.68-3.96-4.32.74-.68ZM7.46 4.5 3.5 8.82l.74.68L8.2 5.18l-.74-.68ZM19.74 10.33A7.5 7.5 0 0 1 21 14.5v.5h1v-.5a8.5 8.5 0 1 0-8.5 8.5h.5v-1h-.5a7.5 7.5 0 1 1 6.24-11.67Z"/><path fill="currentColor" d="M13 9v5h-3v1h4V9h-1ZM19 20v-4h1v4h4v1h-4v4h-1v-4h-4v-1h4Z"/></svg>'
    }
    ,
    325173: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="currentColor" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'
    }
    ,
    133736: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5c1 3 7 7 11 7 2-4 2-8.5 2-8.5s-1-3.5-2-4-4.5.5-4.5.5-3 3.5-6.5 5z"/><path stroke="currentColor" d="M15.5 11l3-6s.5-1 1.5-.5.5 1.5.5 1.5l-3 6M12 11.5l6.5 3.5M7.5 19c2-.5 4-2.5 4-2.5m0 5.5c2-1 3-3.5 3-3.5"/></svg>'
    }
    ,
    636296: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8 9.5H6.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V20m-8-1.5h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1z"/></svg>'
    }
    ,
    808757: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 16v4.5a1 1 0 001 1h14a1 1 0 001-1V16M14.5 18V5.5m-4 4l4-4l4 4"/></svg>'
    }
    ,
    57674: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 11.5v8a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-8m-17 0v-4a1 1 0 0 1 1-1h4l2 2h9a1 1 0 0 1 1 1v2m-17 0h17"/></svg>'
    }
    ,
    918989: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="currentColor" d="M24 74a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM31 48a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM71 46H41v-4h30v4ZM88 87V77h4v10h10v4H92v10h-4V91H78v-4h10Z"/><path fill="currentColor" fill-rule="evenodd" d="M28 33V17h64v48.08A24 24 0 1 1 69.82 102H28V85H8V63h20v-8h-9V33h9Zm4-12h56v44.08A24 24 0 0 0 67.74 98H32V55h51V33H32V21Zm-4 46H12v14h16V67Zm-5-30h56v14H23V37Zm67 72a20 20 0 1 0 0-40 20 20 0 0 0 0 40Z"/></svg>'
    }
    ,
    29834: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M7.5 13a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM5 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM19 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"/></svg>'
    }
    ,
    889291: e => {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path d="M0 0h28v28H0z"/><path stroke="currentColor" d="M13.5 23.5a9 9 0 0 0 9-9h-9v-9a9 9 0 0 0 0 18zM22 6l-6.5 6.5m4-8l-4 4m8 0l-4 4"/><path stroke="currentColor" d="M24.5 12.5a9 9 0 0 0-9-9v9h9z"/></svg>'
    }
    ,
    882289: e => {
        "use strict";
        e.exports = JSON.parse('{"ar_AE":{"language":"ar","language_name":"العربية","flag":"sa","geoip_code":"sa","countries_with_this_language":["ae","bh","dj","dz","eg","er","iq","jo","km","kw","lb","ly","ma","mr","om","qa","sa","sd","so","sy","td","tn","ye"],"priority":500,"dir":"rtl","iso":"ar","iso_639_3":"arb","show_on_widgets":true,"global_name":"Arabic"},"br":{"language":"pt","language_name":"Português","flag":"br","geoip_code":"br","priority":650,"iso":"pt","iso_639_3":"por","show_on_widgets":true,"global_name":"Portuguese"},"ca_ES":{"language":"ca_ES","language_name":"Català","flag":"es","geoip_code":"es","priority":745,"iso":"ca","iso_639_3":"cat","disabled":true,"show_on_widgets":true,"global_name":"Catalan"},"cs":{"language":"cs","language_name":"Czech","flag":"cz","geoip_code":"cz","priority":718,"iso":"cs","iso_639_3":"ces","show_on_widgets":true,"global_name":"Czech","is_in_european_union":true,"isBattle":true},"de_DE":{"language":"de","language_name":"Deutsch","flag":"de","geoip_code":"de","countries_with_this_language":["at","ch"],"priority":756,"iso":"de","iso_639_3":"deu","show_on_widgets":true,"global_name":"German","is_in_european_union":true},"en":{"language":"en","language_name":"English","flag":"us","geoip_code":"us","priority":1000,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"English","is_only_recommended_tw_autorepost":true},"es":{"language":"es","language_name":"Español","flag":"es","geoip_code":"es","countries_with_this_language":["mx","ar","ve","cl","co","pe","uy","py","cr","gt","c","bo","pa","pr"],"priority":744,"iso":"es","iso_639_3":"spa","show_on_widgets":true,"global_name":"Spanish","is_in_european_union":true},"fr":{"language":"fr","language_name":"Français","flag":"fr","geoip_code":"fr","priority":750,"iso":"fr","iso_639_3":"fra","show_on_widgets":true,"global_name":"French","is_in_european_union":true},"he_IL":{"language":"he_IL","language_name":"עברית","flag":"il","geoip_code":"il","priority":490,"dir":"rtl","iso":"he","iso_639_3":"heb","show_on_widgets":true,"global_name":"Israeli"},"hu_HU":{"language":"hu_HU","language_name":"Magyar","flag":"hu","geoip_code":"hu","priority":724,"iso":"hu","iso_639_3":"hun","show_on_widgets":true,"global_name":"Hungarian","is_in_european_union":true,"disabled":true},"id":{"language":"id_ID","language_name":"Bahasa Indonesia","flag":"id","geoip_code":"id","priority":648,"iso":"id","iso_639_3":"ind","show_on_widgets":true,"global_name":"Indonesian"},"in":{"language":"en","language_name":"English ‎(India)‎","flag":"in","geoip_code":"in","priority":800,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"Indian"},"it":{"language":"it","language_name":"Italiano","flag":"it","geoip_code":"it","priority":737,"iso":"it","iso_639_3":"ita","show_on_widgets":true,"global_name":"Italian","is_in_european_union":true},"ja":{"language":"ja","language_name":"日本語","flag":"jp","geoip_code":"jp","priority":600,"iso":"ja","iso_639_3":"jpn","show_on_widgets":true,"global_name":"Japanese"},"kr":{"language":"ko","language_name":"한국어","flag":"kr","geoip_code":"kr","priority":550,"iso":"ko","iso_639_3":"kor","show_on_widgets":true,"global_name":"Korean"},"ms_MY":{"language":"ms_MY","language_name":"Bahasa Melayu","flag":"my","geoip_code":"my","priority":647,"iso":"ms","iso_639_3":"zlm","show_on_widgets":true,"global_name":"Malaysian"},"pl":{"language":"pl","language_name":"Polski","flag":"pl","geoip_code":"pl","priority":725,"iso":"pl","iso_639_3":"pol","show_on_widgets":true,"global_name":"Polish","is_in_european_union":true},"ru":{"language":"ru","language_name":"Русский","flag":"ru","geoip_code":"ru","countries_with_this_language":["am","by","kg","kz","md","tj","tm","uz"],"priority":700,"iso":"ru","iso_639_3":"rus","show_on_widgets":true,"global_name":"Russian","is_only_recommended_tw_autorepost":true},"sv_SE":{"language":"sv","language_name":"Svenska","flag":"se","geoip_code":"se","priority":723,"iso":"sv","iso_639_3":"swe","show_on_widgets":true,"global_name":"Swedish","is_in_european_union":true,"disabled":true},"th_TH":{"language":"th","language_name":"ภาษาไทย","flag":"th","geoip_code":"th","priority":646,"iso":"th","iso_639_3":"tha","show_on_widgets":true,"global_name":"Thai"},"tr":{"language":"tr","language_name":"Türkçe","flag":"tr","geoip_code":"tr","priority":713,"iso":"tr","iso_639_3":"tur","show_on_widgets":true,"global_name":"Turkish","is_only_recommended_tw_autorepost":true},"vi_VN":{"language":"vi","language_name":"Tiếng Việt","flag":"vn","geoip_code":"vn","priority":645,"iso":"vi","iso_639_3":"vie","show_on_widgets":true,"global_name":"Vietnamese"},"zh_CN":{"language":"zh","language_name":"简体中文","flag":"cn","geoip_code":"cn","countries_with_this_language":["zh"],"priority":537,"iso":"zh-Hans","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Chinese"},"zh_TW":{"language":"zh_TW","language_name":"繁體中文","flag":"tw","geoip_code":"tw","countries_with_this_language":["hk"],"priority":536,"iso":"zh-Hant","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Taiwanese"},"el":{"language":"el","language_name":"Greek","flag":"gr","geoip_code":"gr","priority":625,"iso":"el","iso_639_3":"ell","global_name":"Greek","is_in_european_union":true,"isBattle":true},"nl_NL":{"language":"nl_NL","language_name":"Dutch","flag":"nl","geoip_code":"nl","priority":731,"iso":"nl","iso_639_3":"nld","global_name":"Dutch","is_in_european_union":true,"isBattle":true},"ro":{"language":"ro","language_name":"Romanian","flag":"ro","geoip_code":"ro","priority":707,"iso":"ro","iso_639_3":"ron","global_name":"Romanian","is_in_european_union":true,"isBattle":true}}')
    }
}]);
